<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Split Layout</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            line-height: 1.6;
            margin: 20px;
            font-size: 12px;
        }
        .container {
            display: flex; /* Sử dụng Flexbox để chia bố cục */
            height: 100vh; /* Chiều cao toàn màn hình */
        }
        .left-panel, .right-panel {
            flex: 1; /* Mỗi cột chiếm một nửa chiều rộng */
            padding: 20px;
            overflow-y: auto; /* Thêm cuộn dọc nếu nội dung quá dài */
        }
        .left-panel {
            background-color: #fffbe6; /* Màu nền cho cột bên trái */
        }
        .right-panel {
            background-color: #ffffff; /* Màu nền cho cột bên phải */
            border-left: 2px solid #ccc; /* Đường viền giữa hai cột */
        }
        .title {
            text-align: center;
            font-size: 24px;
            font-weight: bold;
        }
        .passage {
            margin-top: 20px;
        }
        .subtitle {
            font-size: 18px;
            font-weight: bold;
            margin-top: 10px;
        }
        .content-box {
        border: 1px solid #ccc;
        padding: 20px;
        margin-top: 20px;
        background-color: #f9f9f9;
        border-radius: 5px;
        }
        .question-container {
            display: flex;
            justify-content: space-between;
            flex-direction: column; /* Thêm dòng này */
            flex-wrap: wrap;
            margin-top: 20px;
        }
        .question {
            margin-bottom: 10px;
            font-size: 12px;
        }
        .input-field {
            width: 90px;
            font-size: 12px;
        }
        .column {
            width: 48%;
        }
        table {
            width: 100%;
            border-collapse: collapse;
		}
        .form-container, .welcome-container {
            background: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
            display: block;
        }
        .form-container h2, .welcome-container h2 {
            text-align: center;
        }
        .form-group {
            margin-bottom: 15px;
        }
        .form-group label {
            display: block;
            margin-bottom: 5px;
        }
        .form-group input {
            width: 100%;
            padding: 8px;
            border: 1px solid #ccc;
            border-radius: 4px;
        }
        .btn {
            padding: 10px 20px;
            background-color: #007bff;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            align-items: center; 
        }
        .btn:hover {
            background-color: #0056b3;
        }
        .hidden {
            display: none;
        } 
        .nav-buttons {
            display: flex;
            justify-content: center; /* Căn giữa các nút */
            gap: 20px; /* Khoảng cách giữa các nút */
            text-align: center;
            margin: 20px 0;
        }
        .nav-buttons button {
            padding: 10px 20px;
            margin: 5px;
            background-color: #007bff;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
        }
        .nav-buttons button:hover {
            background-color: #0056b3;
        }
        .content-box {
            border: 1px solid #ccc;
            padding: 20px;
            margin-top: 20px;
            background-color: #f9f9f9;
            border-radius: 5px;
        }
        .highlight {
    	background-color: yellow;
		}
		.underline {
			text-decoration: underline;
		}
        .btn-submit {
            background: linear-gradient(45deg, #ff416c, #ff4b2b);
            border: none;
            color: white;
            padding: 15px 30px;
            font-size: 18px;
            font-weight: bold;
            border-radius: 50px;
            cursor: pointer;
            transition: all 0.3s ease-in-out;
            box-shadow: 0 4px 15px rgba(255, 65, 108, 0.5);
        }

        .btn-submit:hover {
            background: linear-gradient(45deg, #ff4b2b, #ff416c);
            box-shadow: 0 6px 20px rgba(255, 65, 108, 0.7);
            transform: scale(1.05);
        }

        .btn-submit:active {
            transform: scale(0.95);
            box-shadow: 0 2px 10px rgba(255, 65, 108, 0.5);
        }
                /* ...existing styles... */
                #unanswered-questions ul {
            display: flex; /* Hiển thị các mục trên cùng một dòng */
            flex-wrap: wrap; /* Cho phép xuống dòng nếu danh sách quá dài */
            list-style: none; /* Loại bỏ dấu chấm đầu dòng */
            padding: 0;
            margin: 0;
        }

        #unanswered-questions ul li {
            margin-right: 10px; /* Khoảng cách giữa các mục */
        }
        .btn-container {
            text-align: center; /* Căn giữa nút Register */
            margin-top: 20px;
        }
        .left-panel, .right-panel {
        padding: 20px;
        overflow-y: auto;
        }

        .left-panel {
        background-color: #fffbe6;
        flex: 1;
        }

        .right-panel {
        background-color: #ffffff;
        flex: 1;
        border-left: 2px solid #ccc;
        }
        .option-row {
            display: flex;
            flex-wrap: wrap;
            gap: 14px;
            align-items: center;
            margin-top: 4px;
        }
        .option-row label {
            display: flex;
            align-items: center;
            gap: 4px;
            margin: 0;
        }
    </style>
</head>
<body>
        <!-- Form đăng nhập -->
        <div class="container form-container">
            <h2 style="text-align: center;">Insert your information</h2>
            <form onsubmit="handleInfoSubmit(event)">
                <div class="form-group">
                    <label for="name">Full Name:</label>
                    <input type="text" id="name" name="name" required>
                </div>
                <div class="form-group">
                    <label for="class">Class:</label>
                    <input type="text" id="class" name="class" required>
                </div style="text-align: center; margin-top: 20px;">
                <div class="btn-container">
                    <button type="submit" class="btn">Register</button>
                </div>
            </form>
        </div>
    <div class="container welcome-container hidden">
        <div class="container">
            <!-- Cột bên trái -->
            <div class="left-panel">  
                 <!-- Nội dung Message 1 -->
                <div id="message1">
                    <h2 id="welcome-message" style="text-align: center;"></h2>
                    <div class="subtitle">READING PASSAGE 1</div>
                    <p>You should spend about 20 minutes on <strong>Questions 1-13</strong>, which are based on Reading Passage 1 below.</p>
                    <div class="content-box">
                            <h2 style="text-align:center;">The History of Modern American Dance</h2>
                            <p>
                                The birth of modern American dance occurred in the first years of the twentieth century. And, perhaps unusually for academics, dance historians hold remarkably similar views when it comes to identifying the individuals and influences that shaped the evolution of modern American dance. Starting in the early 1900s, we can see that dancers quite deliberately moved away from previous approaches. This included rejecting both the formal moves of ballet dancing and the entertainment of vaudeville dancing. As a result, dancers began the new century with a fresh start. One important figure at this time was Loie Fuller, who performed largely with her arms, perhaps because she had limited dance training. Fuller emphasised visual effects rather than storytelling, and pioneered the use of artificial lighting to create shadows while dancing.
                            </p>
                            <p>
                                Perhaps most influential in the early years was Isadora Duncan, who was well known in both America and Europe. Duncan refused to wear elaborate costumes, preferring to dance in plain dresses and bare feet. She is also notable for preferring music written by classical composers such as Chopin and Beethoven, rather than contemporary compositions. At a similar time, Ruth St Denis was bringing the influence of Eastern cultures to American dance, often performing solo. In 1915, St Denis opened a dance training academy with her husband with the intention of passing on her approach and style to the next generation of American dancers.
                            </p>
                            <p>
                                By the 1920s, the modern dance movement in America was well established. Audiences were enthusiastic and dancers were increasingly prepared to experiment with new ideas. Martha Graham was one of an important group who emerged in New York. Graham looked within herself to find her dance style, examining how her body moved as she breathed, but also observing the patterns made by her limbs when walking in order to find a new, naturalistic approach to dance. Doris Humphrey wanted her dance to reflect her personal experience of American life. She explored the concept of gravity, allowing her body to fall, only to recover at the last moment. Her book <em>The Art of Making Dances</em>, which detailed her approach to dance composition, was highly influential with later generations of dancers.
                            </p>
                            <p>
                                By the 1930s, modern dance was becoming an accepted, respectable art form. Universities such as Bennington College included modern dance in their performing arts programmes for the first time. In the 1940s, German-born dancer Hanya Holm embraced the changing times by including modern dance in mainstream musicals on the Broadway stage. Among Holm’s many other innovations was bringing her own humour to these performances – audiences adored it.
                            </p>
                            <p>
                                Modern American dance has seldom stood still. Each new generation of dancers either developed the techniques of their teachers or rejected them outright. So by the 1950s the techniques of Hawkins and European ballet dancing were again influential. This was certainly true of Erick Hawkins, who also incorporated Native American and Asian styles. Similarly, Merce Cunningham’s choreographies made the leg actions and flexibility of the spine associated with ballet moves. Paul Taylor reformed his dance to reflect
                                the experiences and interactions of ordinary people going about their everyday lives. Taylor’s career was the subject of a documentary that provided valuable insights into this period of dance.
                            </p>
                            <p>
                                The middle decades of the 20<sup>th</sup> century were certainly a dynamic time. Increasingly, the modern dance movement recognised and reflected the fact that America was a multi-racial, multi-cultural society. Katherine Dunham, an anthropology graduate, used movements from Pacific, African and Caribbean dance to create her unique style. Pearl Primus was another champion of African dance, which she passed on through her dance school in New York. After retirement she travelled widely to universities throughout America lecturing on ethnic dance, which became her main priority.
                            </p>
                            <p>
                                Modern dance since the 1980s has become a mix of multiple forms of dance, as well as art more generally. For example, Mark Morris’s hugely popular work <em>The Hard Nut</em> includes sensational costumes and a stage design inspired by the comics he’d always enjoyed. Another innovator has been Ohad Naharin, who studied in New York and has worked internationally. Naharin’s ‘Gaga’ style is characterised by highly flexible limbs and backbones, while in rehearsal his dancers have no mirrors, feeling their movements from within themselves, a break from traditional dance custom. In many ways it was a fitting end to a 100-year period that had witnessed a transformation in dance. The emergence of modern American dance was very much a 20<sup>th</sup>-century phenomenon. The style drew on influences from home and abroad and in turn went on to influence global dance culture.
                            </p>
                    </div>
                </div>
                  <!-- Nội dung Message 2 -->
                <div id="message2" class="content-box hidden">
                    <div class="content-box">
                        <h2>The Science of Human Laughter </h2>
                        <p>
                            <strong>A</strong> Human beings love to laugh. It’s such an obvious fact that it’s easy to overlook. Laughter, like music and language, is a fundamental human trait. Common sense tells us that laughter is associated with happiness. However, there is also a body of scientific evidence proving that laughter is good for us. Studies show that laughter strengthens relationships in both personal and professional life. It has also been established that laughter improves cardiovascular function, boosts the immune system and releases beneficial hormones into the bloodstream. However, according to psychologist Dr Peter Shrimpton, humans might all laugh, but they often don’t remember doing it. ‘All the studies show that we laugh more frequently than we realise,’ says Dr Shrimpton. ‘Perhaps because it is such a basic part of human nature, we tend not to notice when we are laughing.’
                            </p>
                            <p>
                                <strong>B</strong> Infants typically give their first laugh around three to four months of age, long before they can talk. But according to biologists, this isn’t because they find something amusing; it is rather a form of non-verbal communication. They laugh to form a closer connection to the people they are with, and adults are little different. ‘There is a widespread belief outside the scientific community that we laugh because something is humorous,’ says sociologist Jocelyn Barnes. ‘While this is true, just as commonly the real purpose of laughter is to promote bonding with other individuals or groups.’ This may be partly because it is almost impossible to imitate laughter; even trained actors struggle to mimic a laugh that sounds genuine. So if someone is laughing, the chances are they are actually experiencing a genuine emotion, rather than a faked smile. In the 19<sup>th</sup> century, the French neurologist Guillaume Duchenne found that a genuine smile activates the zygomaticus major and orbicularis muscles, and this in turn causes lines to develop called ‘crow’s feet’ at the outside corners of the eyes. No crow’s feet appear if the smile is put on.
                            </p>
                            <p>
                                <strong>C</strong> There is certainly nothing new about joking and laughter. Attempts to be humorous have been found from ancient Egypt, dating from 2600 BC. And a long and detailed joke book called <em>The Laughter Lover</em>, which was written in ancient Rome, still exists today. While of considerable historical value, it may not be all that amusing any more. A professor of classics, Heinrich Ahrends, has studied many such ancient sources and concluded that tastes in jokes have evolved markedly with the passing of the centuries and that the jokes of our forebears would not get much of a laugh today – and vice versa, no doubt. Nonetheless, studies show that almost everyone can find amusement in some form or other. There is a rare neurological disorder named aphonogelia that prevents some people from laughing out loud. However, they may still be amused or entertained, but just express it in different ways.
                            </p>
                            <p>
                                <strong>D</strong> Much more common is contagious laughter: laughter that spreads uncontrollably between people, sometimes referred to as ‘getting the giggles’. Many people will have experienced this themselves, particularly as children, though it also occurs in adults. On one infamous occasion, a group of BBC cricket commentators got the giggles while broadcasting live on radio. And in January 1962 in Tanzania contagious laughter spread through a group of students. Ninety-five pupils were affected and one girl laughed continuously for 16 days. Eventually the situation became so bad that the authorities at the school felt obliged to close it temporarily. In general, however, it is possible for most people to suppress laughter in circumstances where it would be inappropriate. Scientists believe this is possible because in the brain’s cerebral cortex there appears to be a laughter switch over which humans have some conscious control.
                            </p>
                            <p>
                                <strong>E</strong> What is becoming clear to scientists is that laughter is highly complex. It appears, for example, that laughter has the power to override other emotions, at least temporarily. Neurologist Nikki Sokolov is studying the network of brain circuits and neurotransmitters that regulate laughter and other emotions. She hopes her work may provide further insights to explain the processes involved when laughter occurs simultaneously with other, seemingly contradictory emotions, such as crying, for example. Another aspect of humour’s complexity is that it is so subjective. What makes one person laugh will be met with stony silence by another. Writer David Mackenzie recognised this from the reactions his own jokes received. Intrigued, Mackenzie conducted an international online survey to establish exactly what makes people laugh and what doesn’t, and was surprised by the diverse and often contradictory variety of topics and scenarios that were listed in each category. Understanding humour is still as much an art as a science, according to theatre critic Jake Gottlieb. ‘Stand-up comedians are a remarkable type,’ says Gottlieb. ‘Making jokes for a living is a serious business. You need to be a psychologist and social commentator, be empathetic, self-aware, observant, stubborn and have great timing. Not many of us are so multi-talented.’ Perhaps not, but we can still enjoy the instinctive humour of our family and friends, and perhaps sometimes buy a ticket for a show.
                            </p>
                    </div>
                </div>
                    <!-- Nội dung Message 3 -->
                <div id="message3" class="content-box hidden">
                        <h3>READING PASSAGE 3</h3>
                        <p>You should spend about 20 minutes on <strong>Questions 27-40</strong>, which are based on Reading Passage 3 below.</p>
                        <div class="content-box">
                            <h2 style="text-align:center;">Socially Responsible Businesses</h2>
                            <p style="text-align:center;"><em>Increasingly, businesses are working to improve their communities, says analyst Pierre Drucker.</em></p>
                            <p>
                            Many economies today are witnessing the rise of socially responsible businesses, or SRBs. These are profit-making companies which have the additional goal of improving society in some way. Business commentators usually describe SRBs as a fundamentally 21<sup>st</sup>-century phenomenon. However, this common generalisation overlooks the significant contribution of Muhammad Yunus, among a number of other entrepreneurs. Yunus established a highly successful bank in Bangladesh in the 1980s lending money to small village business projects that could not attract conventional loans.
                            </p>
                            <p>
                            There are also those such as CEO Dan Rathbourne who dismiss SRBs as a passing fad which have had little impact on the real world of business. This cynical view is disproved by the evidence: in the UK alone, there are an estimated 80,000 SRBs, turning over about £25 billion a year. What is more, research by the Quorate Group based on interviews with over 5,000 respondents in twelve nations found that not only were consumers prepared to support SRBs but that employees preferred to work for them.
                            </p>
                            <p>
                            Ten years ago Christine Dubois used her experience in corporate finance to establish the Concern Consultancy, which coordinates advice and funding for SRB start-ups. As professional investors increasingly recognise the potential of SRBs, the number of niche firms such as Dubois’s will almost inevitably multiply. Professor of business studies Joel Drew claims that this is partly a consequence of the digital revolution. In his persuasive analysis, digital networks have allowed consumers to identify socially responsible products and services in ways never possible before.
                            </p>
                            <p>
                            So what are some examples of SRBs? Many that have come to my attention recently are small-scale local companies, such as Renew, which searches demolition sites for old materials – wooden floorboards and other construction timber, for example. Rather than allow these resources to be wasted, the team at Renew have fashioned them into a range of tables, chairs and similar items that are sold at relatively low cost.Other SBRs have rather different goals. The first Indulge café was established by owner Derek Jardine in an area with few local amenities. The idea for the café was to provide a meeting place for local residents – a community hub – not only by serving food and drink but also by running workshops, film evenings and art exhibitions. There are now six Indulge cafés around the country with more planned. Of course, large corporations may not be in a position to change their products or services quickly. But one international telecommunications corporation, for example, enables its employees to take part in the Green Scheme, whereby staff give short periods of their time unpaid to plant trees in conservation areas, and numerous other large companies have similar initiatives.
                            </p>
                            <p>
                            Another small SRB that caught my eye is Bright Sparks, where engineer Johann Jensen is investigating the use of things such as bamboo and soya beans to make coffee capsules and takeaway cups that will break down and decay naturally. In the longer term, Jensen hopes to work on other kinds of packaging for the food and hospitality industries. Meanwhile, Greater Good is now in its second decade of running a farm-to-table vegetable and fruit delivery box service to inner city residents. Recent years have seen a significant increase in demand for this type of direct service, bypassing traditional retailers.
                            </p>
                            <p>
                            The increase in the number of such SRBs is associated with the rise of ‘conscious consumers’, who want to know exactly how the products they have been produced. What was the environmental impact? Were workers treated ethically? So the argument is sometimes put forward that SRBs are a response to new consumer values. But equally, many SRBs that I have studied were established by entrepreneurs who wanted to make a difference and have taken consumers along with them. In reality, both sides of the relationship have contributed to the fresh approach.
                            </p>
                            <p>
                            Consumers, of course, are not always members of the public. Recently I spoke to Lucinda Mitchell, procurement officer for my local council here in London, who told me that her organisation frequently purchases from SRBs because of shared values. Local, state and national authorities have huge purchasing power for both goods and services. And Mitchell’s position is becoming commonplace internationally as these bodies are increasingly prepared to work with SRBs, provided they are competitive on price and quality.
                            </p>
                            <p>
                            In terms of goals, there are numerous types of social benefits that SRBs can hope to achieve. Many concern employment, whether creating opportunities in deprived areas, promoting gender equality in employment or providing jobs for disabled people. Others focus on fair and ethical treatment of employees and trading partners. Some SRBs add additional goals as they develop, which has worked well. Undoubtedly the most common goal, though, is environmental protection. While this is commendable and a reflection of deep concern in contemporary society, it would be good to see greater diversity as the SRB concept evolves.
                            </p>
                            <p>
                            As with any business, of course, there are issues to be faced. Some SRBs are set up with considerable energy and dedication, but with little knowledge or experience of business, and find it difficult to compete. Some find it a challenge to promote their values successfully and so never gain support from consumers or investors. Others lack an internal organisational structure, which leads to inefficiencies. However, few of these problems relate specifically to SRBs but are witnessed in many start-ups. Greater professionalism and business school education can solve all of these issues, ensuring the sector has a bright future.
                            </p>
                        </div>
                </div>
            </div>
            <!-- Cột bên phải -->
            <div class="right-panel">
                <div id="timer" style="text-align: center; font-size: 20px; font-weight: bold; margin-top: 20px; color: red;"></div>
                <div class="nav-buttons">
                    <button onclick="showMessage(1)">READING PASSAGE 1</button>
                    <button onclick="showMessage(2)">READING PASSAGE 2</button>
                    <button onclick="showMessage(3)">READING PASSAGE 3</button>
                </div>
                 <!-- Cột bên phải message1-->
                <div id="right-message1" class="content-box active">
                        <h3>Questions 1–6</h3>
                        <p>
                            Do the following statements agree with the information given in Reading Passage 1?<br>
                            In boxes 1–6 on your answer sheet, write<br>
                            <strong>TRUE</strong> if the statement agrees with the information<br>
                            <strong>FALSE</strong> if the statement contradicts the information<br>
                            <strong>NOT GIVEN</strong> if there is no information on this
                        </p>
                        <div class="question-container">
                            <div class="question">
                                1. Dance historians agree about the development of modern American dance.<br>
                                <div class="option-row">
                                    <label><input type="radio" name="q1" value="TRUE"> TRUE</label>
                                    <label><input type="radio" name="q1" value="FALSE"> FALSE</label>
                                    <label><input type="radio" name="q1" value="NOT GIVEN"> NOT GIVEN</label>
                                </div>
                            </div>
                            <div class="question">
                                2. Dancers in the early 1900s tended to copy the styles of earlier dancers.<br>
                                <div class="option-row">
                                    <label><input type="radio" name="q2" value="TRUE"> TRUE</label>
                                    <label><input type="radio" name="q2" value="FALSE"> FALSE</label>
                                    <label><input type="radio" name="q2" value="NOT GIVEN"> NOT GIVEN</label>
                                </div>
                            </div>
                            <div class="question">
                                3. Loie Fuller preferred to dance alone on stage.<br>
                                <div class="option-row">
                                    <label><input type="radio" name="q3" value="TRUE"> TRUE</label>
                                    <label><input type="radio" name="q3" value="FALSE"> FALSE</label>
                                    <label><input type="radio" name="q3" value="NOT GIVEN"> NOT GIVEN</label>
                                </div>
                            </div>
                            <div class="question">
                                4. Isadora Duncan wore complicated clothing when dancing.<br>
                                <div class="option-row">
                                    <label><input type="radio" name="q4" value="TRUE"> TRUE</label>
                                    <label><input type="radio" name="q4" value="FALSE"> FALSE</label>
                                    <label><input type="radio" name="q4" value="NOT GIVEN"> NOT GIVEN</label>
                                </div>
                            </div>
                            <div class="question">
                                5. Some dancers criticised Isadora Duncan for her choice of music.<br>
                                <div class="option-row">
                                    <label><input type="radio" name="q5" value="TRUE"> TRUE</label>
                                    <label><input type="radio" name="q5" value="FALSE"> FALSE</label>
                                    <label><input type="radio" name="q5" value="NOT GIVEN"> NOT GIVEN</label>
                                </div>
                            </div>
                            <div class="question">
                                6. Ruth St Denis wished to educate others in her style of dancing.<br>
                                <div class="option-row">
                                    <label><input type="radio" name="q6" value="TRUE"> TRUE</label>
                                    <label><input type="radio" name="q6" value="FALSE"> FALSE</label>
                                    <label><input type="radio" name="q6" value="NOT GIVEN"> NOT GIVEN</label>
                                </div>
                            </div>
                        </div>
                        <h3>Questions 7–10</h3>
                        <p>
                            Complete the notes below.<br>
                            <strong>Choose ONE WORD ONLY from the passage for each answer.</strong>
                        </p>
                        <div class="content-box" style="border: 1px solid #888; background: #fff;">
                            <strong>Developments in Modern American Dance</strong>
                            <ul>
                                <li>
                                    <strong>1920s–1940s</strong>
                                    <ul>
                                        <li>Martha Graham based her dance on human actions such as breathing and 7<input type="text" class="input-field" id="q7" autocomplete="off" style="width: 120px;">.</li>
                                        <li>Doris Humphrey wrote an important 8<input type="text" class="input-field" id="q8" autocomplete="off" style="width: 120px;"> about her ideas.</li>
                                        <li>Dance became a respectable subject to study at university.</li>
                                        <li>Hanya Holm introduced 9<input type="text" class="input-field" id="q9" autocomplete="off" style="width: 120px;"> into dance and musicals.</li>
                                    </ul>
                                </li>
                                <li>
                                    <strong>1950s–1970s</strong>
                                    <ul>
                                        <li>E. Rick Hawkins and Merce Cunningham reintroduced some ballet techniques.</li>
                                        <li>An influential 10<input type="text" class="input-field" id="q10" autocomplete="off" style="width: 120px;"> outlined the working life of Paul Taylor.</li>
                                    </ul>
                                </li>
                            </ul>
                        </div>
                        <h3>Questions 11–13</h3>
                            <p>
                                Answer the questions below.<br>
                                <strong>Choose ONE WORD ONLY from the passage for each answer.</strong>
                            </p>
                            <div class="question-container">
                                <div class="question">
                                    11. When Pearl Primus gave up dancing, what did she focus on doing?<br>
                                    <input type="text" class="input-field" id="q11" autocomplete="off" style="width: 200px;">
                                </div>
                                <div class="question">
                                    12. What was an important influence for Mark Morris’s <em>The Hard Nut</em>?<br>
                                    <input type="text" class="input-field" id="q12" autocomplete="off" style="width: 200px;">
                                </div>
                                <div class="question">
                                    13. Dancers working with Ohad Naharin practise without using what?<br>
                                    <input type="text" class="input-field" id="q13" autocomplete="off" style="width: 200px;">
                                </div>
                            </div>
                </div>
                <!-- Cột bên phải message2-->
                <div id="right-message2" class="content-box hidden">
                    <div class="content-box">
                        <div class="subtitle">READING PASSAGE 2</div>
                        <p>
                            <em>You should spend about 20 minutes on <strong>Questions 14–26</strong>, which are based on Reading Passage 2 below.</em>
                        </p>
                        <h3>Questions 14–18</h3>
                        <p>
                            Reading Passage 2 has five paragraphs, <strong>A–E</strong>.<br>
                            Which paragraph contains the following information?<br>
                            Write the correct letter <strong>A–E</strong> in boxes 14–18 on your answer sheet.<br>
                            <em>NB You may use any letter more than once.</em>
                        </p>
                        <div class="question-container">
                            <div class="question">
                                14. The claim that it is very hard for people to pretend to laugh<br>
                                <select class="input-field" id="q14">
                                    <option value=""></option>
                                    <option value="A">A</option>
                                    <option value="B">B</option>
                                    <option value="C">C</option>
                                    <option value="D">D</option>
                                    <option value="E">E</option>
                                </select>
                            </div>
                            <div class="question">
                                15. A reference to research showing that people do not know how often they laugh<br>
                                <select class="input-field" id="q15">
                                    <option value=""></option>
                                    <option value="A">A</option>
                                    <option value="B">B</option>
                                    <option value="C">C</option>
                                    <option value="D">D</option>
                                    <option value="E">E</option>
                                </select>
                            </div>
                            <div class="question">
                                16. The reason why people can sometimes stop themselves laughing<br>
                                <select class="input-field" id="q16">
                                    <option value=""></option>
                                    <option value="A">A</option>
                                    <option value="B">B</option>
                                    <option value="C">C</option>
                                    <option value="D">D</option>
                                    <option value="E">E</option>
                                </select>
                            </div>
                            <div class="question">
                                17. An outline of the health benefits experienced by people when laughing<br>
                                <select class="input-field" id="q17">
                                    <option value=""></option>
                                    <option value="A">A</option>
                                    <option value="B">B</option>
                                    <option value="C">C</option>
                                    <option value="D">D</option>
                                    <option value="E">E</option>
                                </select>
                            </div>
                            <div class="question">
                                18. A reference to a medical condition that stops some people making a noise when laughing<br>
                                <select class="input-field" id="q18">
                                    <option value=""></option>
                                    <option value="A">A</option>
                                    <option value="B">B</option>
                                    <option value="C">C</option>
                                    <option value="D">D</option>
                                    <option value="E">E</option>
                                </select>
                            </div>
                        </div>

                        <h3>Questions 19–22</h3>
                        <p>
                            Look at the following statements (Questions 19–22) and the list of people (<strong>A–E</strong>).<br>
                            Match each statement with the correct person, <strong>A–E</strong>.<br>
                            Write the correct letter, <strong>A–E</strong>, in boxes 19–22 on your answer sheet.
                        </p>
                        <div class="question-container">
                            <div class="question">
                                19. Research has confirmed personal experience by identifying the wide range of subjects and situations that people find funny.<br>
                                <select class="input-field" id="q19">
                                    <option value=""></option>
                                    <option value="A">A</option>
                                    <option value="B">B</option>
                                    <option value="C">C</option>
                                    <option value="D">D</option>
                                    <option value="E">E</option>
                                </select>
                            </div>
                            <div class="question">
                                20. Ideas about what is amusing have changed considerably over time.<br>
                                <select class="input-field" id="q20">
                                    <option value=""></option>
                                    <option value="A">A</option>
                                    <option value="B">B</option>
                                    <option value="C">C</option>
                                    <option value="D">D</option>
                                    <option value="E">E</option>
                                </select>
                            </div>
                            <div class="question">
                                21. To intentionally make other people laugh requires an unusual combination of skills and characteristics.<br>
                                <select class="input-field" id="q21">
                                    <option value=""></option>
                                    <option value="A">A</option>
                                    <option value="B">B</option>
                                    <option value="C">C</option>
                                    <option value="D">D</option>
                                    <option value="E">E</option>
                                </select>
                            </div>
                            <div class="question">
                                22. The reasons why we laugh are sometimes misunderstood by ordinary people.<br>
                                <select class="input-field" id="q22">
                                    <option value=""></option>
                                    <option value="A">A</option>
                                    <option value="B">B</option>
                                    <option value="C">C</option>
                                    <option value="D">D</option>
                                    <option value="E">E</option>
                                </select>
                            </div>
                        </div>
                        <div class="content-box" style="background: #fff; border: 1px solid #888; margin-top: 15px;">
                            <strong>List of people</strong>
                            <ul style="list-style: none; padding-left: 0;">
                                <li><strong>A</strong> Dr Peter Shrimpton</li>
                                <li><strong>B</strong> Jocelyn Barnes</li>
                                <li><strong>C</strong> Heinrich Ahrends</li>
                                <li><strong>D</strong> David Mackenzie</li>
                                <li><strong>E</strong> Jake Gottlieb</li>
                            </ul>
                        </div>
                        <h3>Questions 23–26</h3>
                        <p>
                            Complete the sentences below.<br>
                            <strong>Choose ONE WORD ONLY from the passage for each answer.</strong><br>
                            Write your answers in boxes 23–26 on your answer sheet.
                        </p>
                        <div class="question-container">
                            <div class="question">
                                23. The French neurologist Guillaume Duchenne showed that if a smile is fake, the skin around a person’s <input type="text" class="input-field" id="q23" autocomplete="off" style="width: 120px;"> does not change shape.
                            </div>
                            <div class="question">
                                24. A <input type="text" class="input-field" id="q24" autocomplete="off" style="width: 120px;"> that was produced in ancient Rome contains early examples of attempts to be funny.
                            </div>
                            <div class="question">
                                25. In January 1962, an outbreak of mass laughter caused problems in a <input type="text" class="input-field" id="q25" autocomplete="off" style="width: 120px;"> in Tanzania.
                            </div>
                            <div class="question">
                                26. Neurologist Nikki Sokolov is investigating why <input type="text" class="input-field" id="q26" autocomplete="off" style="width: 120px;"> is possible even when a person finds something funny.
                            </div>
                        </div>
                    </div>
                </div>
                <!-- Cột bên phải message3-->
                <div id="right-message3" class="content-box hidden">
                    <h3>Questions 27–31</h3>
                    <p>
                        Do the following statements agree with the claims of the writer in Reading Passage 3?<br>
                        <strong>In boxes 27–31 on your answer sheet, write</strong>
                    </p>
                    <ul>
                        <li><strong>YES</strong> if the statement agrees with the claims of the writer</li>
                        <li><strong>NO</strong> if the statement contradicts the claims of the writer</li>
                        <li><strong>NOT GIVEN</strong> if it is impossible to say what the writer thinks about this</li>
                    </ul>
                    <div class="question-container">
                        <div class="question">
                            27. Many business commentators forget the example of Muhammad Yunus.<br>
                            <div class="option-row">
                                <label><input type="radio" name="q27" value="YES"> YES</label>
                                <label><input type="radio" name="q27" value="NO"> NO</label>
                                <label><input type="radio" name="q27" value="NOT GIVEN"> NOT GIVEN</label>
                            </div>
                        </div>
                        <div class="question">
                            28. Dan Rathbourne provides an accurate assessment of Socially Responsible Businesses (SRBs).<br>
                            <div class="option-row">
                                <label><input type="radio" name="q28" value="YES"> YES</label>
                                <label><input type="radio" name="q28" value="NO"> NO</label>
                                <label><input type="radio" name="q28" value="NOT GIVEN"> NOT GIVEN</label>
                            </div>
                        </div>
                        <div class="question">
                            29. The Quorate Group is a good example of an influential SRB.<br>
                            <div class="option-row">
                                <label><input type="radio" name="q29" value="YES"> YES</label>
                                <label><input type="radio" name="q29" value="NO"> NO</label>
                                <label><input type="radio" name="q29" value="NOT GIVEN"> NOT GIVEN</label>
                            </div>
                        </div>
                        <div class="question">
                            30. Fewer other businesses will wish to follow the example of the Concern Consultancy.<br>
                            <div class="option-row">
                                <label><input type="radio" name="q30" value="YES"> YES</label>
                                <label><input type="radio" name="q30" value="NO"> NO</label>
                                <label><input type="radio" name="q30" value="NOT GIVEN"> NOT GIVEN</label>
                            </div>
                        </div>
                        <div class="question">
                            31. Professor Drew has correctly identified one reason for the emergence of SRBs.<br>
                            <div class="option-row">
                                <label><input type="radio" name="q31" value="YES"> YES</label>
                                <label><input type="radio" name="q31" value="NO"> NO</label>
                                <label><input type="radio" name="q31" value="NOT GIVEN"> NOT GIVEN</label>
                            </div>
                        </div>
                    </div>
                    <h3>Questions 32–36</h3>
                        <p>
                            Complete the summary using the list of words, <strong>A–H</strong>, below.<br>
                            Write the correct letter, <strong>A–H</strong>, in boxes 32–36 on your answer sheet.
                        </p>
                        <div class="content-box" style="background: #fff; border: 1px solid #888;">
                            <strong>Examples of SRBs</strong>
                            <p>
                                Renew has made a successful business out of designing 32<select class="input-field" id="q32">
                                    <option value=""></option>
                                    <option value="A">A</option>
                                    <option value="B">B</option>
                                    <option value="C">C</option>
                                    <option value="D">D</option>
                                    <option value="E">E</option>
                                    <option value="F">F</option>
                                    <option value="G">G</option>
                                    <option value="H">H</option>
                                </select>.<br>
                                On the other hand, Indulge wishes to promote 33<select class="input-field" id="q33">
                                    <option value=""></option>
                                    <option value="A">A</option>
                                    <option value="B">B</option>
                                    <option value="C">C</option>
                                    <option value="D">D</option>
                                    <option value="E">E</option>
                                    <option value="F">F</option>
                                    <option value="G">G</option>
                                    <option value="H">H</option>
                                </select> and is expanding to new sites. Large corporations cannot always make quick changes but many make provision for 34<select class="input-field" id="q34">
                                    <option value=""></option>
                                    <option value="A">A</option>
                                    <option value="B">B</option>
                                    <option value="C">C</option>
                                    <option value="D">D</option>
                                    <option value="E">E</option>
                                    <option value="F">F</option>
                                    <option value="G">G</option>
                                    <option value="H">H</option>
                                </select>, such as the Green Scheme.<br>
                                On a smaller scale, Johann Jensen is experimenting with types of 35<select class="input-field" id="q35">
                                    <option value=""></option>
                                    <option value="A">A</option>
                                    <option value="B">B</option>
                                    <option value="C">C</option>
                                    <option value="D">D</option>
                                    <option value="E">E</option>
                                    <option value="F">F</option>
                                    <option value="G">G</option>
                                    <option value="H">H</option>
                                </select> and is planning other ventures. In contrast, an example of a well-established business is Greater Good, which provides 36<select class="input-field" id="q36">
                                    <option value=""></option>
                                    <option value="A">A</option>
                                    <option value="B">B</option>
                                    <option value="C">C</option>
                                    <option value="D">D</option>
                                    <option value="E">E</option>
                                    <option value="F">F</option>
                                    <option value="G">G</option>
                                    <option value="H">H</option>
                                </select> to a growing market.
                            </p>
                        </div>
                            <div class="content-box" style="background: #fff; border: 1px solid #888; margin-top: 15px;">
                            <strong>List of people</strong>
                            <ul style="list-style: none; padding-left: 0;">
                                <li><strong>A</strong> biodegradable materials</li>
                                <li><strong>B</strong> recycled clothing</li>
                                <li><strong>C</strong> fresh produce</li>
                                <li><strong>D</strong> closer neighbourhoods</li>
                                <li><strong>E</strong> secure accommodation</li>
                                <li><strong>F</strong> affordable furniture</li>
                                <li><strong>G</strong> permanent employment</li>
                                <li><strong>H</strong> volunteer work</li>
                            </ul>
                        </div>             
                    <h3>Questions 37–40</h3>
                    <p>
                        Choose the correct answer, <strong>A, B, C</strong> or <strong>D</strong>.<br>
                        Write the correct letter in boxes 37–40 on your answer sheet.
                    </p>
                    <div class="question-container">
                        <div class="question">
                            37. When discussing ‘conscious consumers’ the writer concludes that<br>
                            <input type="radio" name="q37" value="A"> A businesses are slow to respond to consumer demand.<br>
                            <input type="radio" name="q37" value="B"> B consumers and businesses have different interests.<br>
                            <input type="radio" name="q37" value="C"> C businesses and consumers are influencing each other.<br>
                            <input type="radio" name="q37" value="D"> D consumers should put more pressure on businesses.<br>
                        </div>
                        <div class="question">
                            38. The writer refers to Lucinda Mitchell in order to<br>
                            <input type="radio" name="q38" value="A"> A explain why SRBs lose out to other businesses.<br>
                            <input type="radio" name="q38" value="B"> B exemplify the way governments often support SRBs.<br>
                            <input type="radio" name="q38" value="C"> C contrast the approach of different governments to SRBs.<br>
                            <input type="radio" name="q38" value="D"> D compare the role of SRBs in different regions.<br>
                        </div>
                        <div class="question">
                            39. What does the writer suggest about the goals of SRBs?<br>
                            <input type="radio" name="q39" value="A"> A SRBs should have a wider range of goals.<br>
                            <input type="radio" name="q39" value="B"> B It is a mistake for an SRB to change goal.<br>
                            <input type="radio" name="q39" value="C"> C Some goals may make an SRB unprofitable.<br>
                            <input type="radio" name="q39" value="D"> D An SRB should not have more than one goal.<br>
                        </div>
                        <div class="question">
                            40. Which of the following best summarises the writer’s argument in the final paragraph?<br>
                            <input type="radio" name="q40" value="A"> A A minority of businesses will inevitably fail.<br>
                            <input type="radio" name="q40" value="B"> B SRBs are more successful than other businesses.<br>
                            <input type="radio" name="q40" value="C"> C Universities should do more research into SRBs.<br>
                            <input type="radio" name="q40" value="D"> D The problems faced by SRBs can be overcome.<br>
                        </div>
                    </div>
                    <div class="btn-container">
                        <button onclick="checkAnswers()" class="btn-submit">Submit</button>
                    </div>
                    <div id="results"></div>
                    <div id="unanswered-questions" style="display: none; color: red; margin-top: 20px;"></div>
                  <!-- continue -->  
                </div>
            </div>
        </div>
    </div>
    <script>
                // Khai báo biến toàn cục
        let name_user = "";
        let className_user = "";
        function handleInfoSubmit(event) {
            event.preventDefault(); // Ngăn chặn hành động mặc định của form

            // Lấy giá trị từ các trường nhập liệu
            const name = document.getElementById("name").value;
            const className = document.getElementById("class").value;
            name_user=name;
            className_user=className;
            // Kiểm tra nếu các trường nhập liệu không rỗng
            if (!name || !className) {
                alert("Please fill in all fields.");
                return;
            }

            // Ẩn form đăng nhập
            document.querySelector(".form-container").classList.add("hidden");

            // Hiển thị bài test
            const welcomeContainer = document.querySelector(".welcome-container");
            welcomeContainer.classList.remove("hidden");

            // Hiển thị thông báo chào mừng
            document.getElementById("welcome-message").innerText = `READING 5( TRAINER_2 -T3 )`;
        }
        //Handle button 
        function showMessage(messageNumber) {
            // Ẩn tất cả các message trong left-panel
            document.getElementById("message1").classList.add("hidden");
            document.getElementById("message2").classList.add("hidden");
            document.getElementById("message3").classList.add("hidden");

            // Hiển thị message được chọn trong left-panel
            document.getElementById(`message${messageNumber}`).classList.remove("hidden");

            // Ẩn tất cả các message trong right-panel
            document.getElementById("right-message1").classList.add("hidden");
            document.getElementById("right-message2").classList.add("hidden");
            document.getElementById("right-message3").classList.add("hidden");

            // Hiển thị message được chọn trong right-panel
            document.getElementById(`right-message${messageNumber}`).classList.remove("hidden");

            // Cuộn về đầu trang
            window.scrollTo({
                top: 0,
                behavior: "smooth" // Cuộn mượt
            });
        }
        <!-- JavaScript để hỗ trợ highlight, underline, xóa định dạng -->
		function getSelectedText() {
						let selection = window.getSelection();
						if (!selection.rangeCount) return null;
						return selection.getRangeAt(0);
					}
					
					function wrapSelection(className) {
                            let range = getSelectedText();
                            if (range) {
                                // Kiểm tra nếu vùng chọn nằm trong cùng một node cha
                                let startParent = range.startContainer.parentNode;
                                let endParent = range.endContainer.parentNode;
                                if (startParent === endParent) {
                                    let span = document.createElement("span");
                                    span.className = className;
                                    span.appendChild(range.extractContents());
                                    range.insertNode(span);
                                } else {
                                    alert("Chỉ có thể bôi đen trong cùng một dòng hoặc đoạn!");
                                }
                            }
                    }
					
					function highlightText() {
						wrapSelection("highlight");
					}
					
					function underlineText() {
						wrapSelection("underline");
					}

					function removeFormattingFromSelection() {
				let selection = window.getSelection();
				if (!selection.rangeCount) return;

				let range = selection.getRangeAt(0);
				let elementsToRemove = [];

				function findStyledNodes(node) {
					if (node.nodeType === 1 && (node.classList.contains("highlight") || node.classList.contains("underline"))) {
						elementsToRemove.push(node);
					}
					node.childNodes.forEach(findStyledNodes);
				}

				findStyledNodes(range.commonAncestorContainer);

				elementsToRemove.forEach(element => {
					let parent = element.parentNode;
					while (element.firstChild) {
						parent.insertBefore(element.firstChild, element);
					}
					parent.removeChild(element);
				});

				selection.removeAllRanges();
			}
			document.addEventListener("mouseup", function() {
                const selection = window.getSelection();
                if (selection.rangeCount && !selection.isCollapsed) {
                    const range = selection.getRangeAt(0);
                    // Không highlight nếu vùng chọn nằm trong input, textarea
                    let startNode = range.startContainer.parentNode;
                    let endNode = range.endContainer.parentNode;
                    if (
                        !["INPUT", "TEXTAREA"].includes(startNode.nodeName) &&
                        !["INPUT", "TEXTAREA"].includes(endNode.nodeName)
                    ) {
                        wrapSelection("highlight");
                        selection.removeAllRanges();
                    }
                }
            });
            document.addEventListener("keydown", function(e) {
                // Nếu nhấn Ctrl+R (hoặc Cmd+R trên Mac)
                if ((e.ctrlKey || e.metaKey) && e.key.toLowerCase() === "r") {
                    e.preventDefault(); // Ngăn reload trang
                    removeFormattingFromSelection();
                }
            });
            document.addEventListener("click", function(e) {
                // Chỉ xóa highlight nếu click vào vùng đã bôi vàng và KHÔNG có vùng chọn nào đang active
                const selection = window.getSelection();
                if (
                    e.target.classList &&
                    e.target.classList.contains("highlight") &&
                    selection.isCollapsed // Không có vùng chọn nào đang active
                ) {
                    let parent = e.target.parentNode;
                    while (e.target.firstChild) {
                        parent.insertBefore(e.target.firstChild, e.target);
                    }
                    parent.removeChild(e.target);
                }
            });
			
                // Function to send data to Google Sheets
        function sendDataToGoogleSheet(name, className, answers, correctCount, bandScore) {
            console.log("Sending data:", { name, className, answers, correctCount, bandScore }); // Kiểm tra dữ liệu
            const scriptURL = "https://script.google.com/macros/s/AKfycbwztIeZxFazUwbkprSwXvSixlS4F-sU2fQ7BhhCCapU4_khY_5lJ2uupLrwgukX9CTn/exec"; // Thay bằng URL của Google Apps Script
            const data = {
                name: name,
                className: className,
                answers: answers,
                correctCount: correctCount,
                bandScore: bandScore // Gửi bandScore
            };
            // Lưu dữ liệu vào localStorage trước khi gửi
            localStorage.setItem("pendingSubmission", JSON.stringify(data));
            // Đổi nút thành Waiting...
            const submitButton = document.querySelector(".btn-submit");
                if (submitButton) {
                        submitButton.innerText = "Waiting...";
                        submitButton.disabled = true;
                    }
            fetch(scriptURL, {
                method: "POST",
                mode: 'no-cors',
                body: JSON.stringify(data),
                headers: {
                    "Content-Type": "application/json"
                }
            })
            .then(response => response.text())
            .then(result => {
                console.log("Success:", result);
                    if (submitButton) {
                    // Thay đổi nút Submit thành Done
                    const submitButton = document.querySelector(".btn-submit");
                    submitButton.innerText = "Done";
                    submitButton.disabled = true;
                    }
                alert("Data sent to Google Sheets successfully!");
            })
            .catch(error => {
                console.error("Error:", error);
                alert("Failed to send data to Google Sheets.");
                // Nếu gửi lỗi, cho phép thử lại  
                if (submitButton) {
                    submitButton.innerText = "Submit";
                    submitButton.disabled = false;
                    }
            });
        }
        function checkAnswers() {
            const correctAnswers = {
                // Reading Passage 1
                q1: "TRUE",
                q2: "FALSE",
                q3: "NOT GIVEN",
                q4: "FALSE",
                q5: "NOT GIVEN",
                q6: "TRUE",
                q7: "walking",
                q8: "book",
                q9: "humour",
                q10: "documentary",
                q11: "lecturing",
                q12: "comics",
                q13: "mirrors",
                q14: "B",
                q15: "A",
                q16: "D",
                q17: "A",
                q18: "C",
                q19: "D",
                q20: "C",
                q21: "E",
                q22: "B",
                q23: "eyes",
                q24: "book",
                q25: "school",
                q26: "crying",
                // Reading Passage 3
                q27: "YES",
                q28: "NO",
                q29: "NOT GIVEN",
                q30: "NO",
                q31: "YES",
                q32: "F",
                q33: "D",
                q34: "H",
                q35: "A",
                q36: "C",
                q37: "C",
                q38: "B",
                q39: "A",
                q40: "D"
            };

            let correctCount = 0;
            let resultHTML = `<table><tr><th>Question</th><th>Your Answer</th><th>Correct Answer</th><th>Result</th></tr>`;
            const answers = {};
            const unansweredQuestions = [];

            // Lấy tất cả các câu hỏi dạng text
            const textQuestions = Array.from(document.querySelectorAll('.input-field')).sort((a, b) => {
                const idA = parseInt(a.id.replace("q", ""), 10);
                const idB = parseInt(b.id.replace("q", ""), 10);
                return idA - idB;
            });

            // Lấy tất cả các câu hỏi dạng radio
            const radioQuestions = Array.from(document.querySelectorAll('input[type="radio"]')).reduce((acc, radio) => {
                if (!acc.includes(radio.name)) acc.push(radio.name);
                return acc;
            }, []);

            let allFieldsFilled = true;

            // Xử lý câu hỏi dạng text
            textQuestions.forEach(question => {
                const questionId = question.id;
                const correctAnswer = correctAnswers[questionId];

                let userAnswer = question.value.trim();
                if (!userAnswer) {
                    allFieldsFilled = false;
                    question.classList.add("incorrect");
                    unansweredQuestions.push(questionId.replace("q", "Question "));
                } else {
                    question.classList.remove("incorrect");
                    answers[questionId] = userAnswer;

                    // So sánh không phân biệt hoa thường và loại bỏ khoảng trắng thừa
                    if (userAnswer.toLowerCase() === (correctAnswer || "").toLowerCase()) {
                        correctCount++;
                        resultHTML += `<tr>
                            <td>${questionId.replace("q", "Question ")}</td>
                            <td>${userAnswer}</td>
                            <td>${correctAnswer}</td>
                            <td>✔</td>
                        </tr>`;
                    } else {
                        resultHTML += `<tr>
                            <td>${questionId.replace("q", "Question ")}</td>
                            <td>${userAnswer}</td>
                            <td>${correctAnswer}</td>
                            <td>✘</td>
                        </tr>`;
                    }
                }
            });

            // Xử lý câu hỏi dạng radio
            radioQuestions.forEach(name => {
                const radios = document.getElementsByName(name);
                const questionId = name;
                const correctAnswer = correctAnswers[questionId];

                let userAnswer = "";
                const selectedRadio = Array.from(radios).find(radio => radio.checked);
                if (selectedRadio) {
                    userAnswer = selectedRadio.value;
                    answers[questionId] = userAnswer;

                    if ((userAnswer || "").toUpperCase() === (correctAnswer || "").toUpperCase()) {
                        correctCount++;
                        resultHTML += `<tr>
                            <td>${questionId.replace("q", "Question ")}</td>
                            <td>${userAnswer}</td>
                            <td>${correctAnswer}</td>
                            <td>✔</td>
                        </tr>`;
                    } else {
                        resultHTML += `<tr>
                            <td>${questionId.replace("q", "Question ")}</td>
                            <td>${userAnswer}</td>
                            <td>${correctAnswer}</td>
                            <td>✘</td>
                        </tr>`;
                    }
                } else {
                    allFieldsFilled = false;
                    unansweredQuestions.push(questionId.replace("q", "Question "));
                }
            });

            // Nếu có trường chưa được điền, hiển thị thông báo và dừng xử lý
            if (!allFieldsFilled) {
                const unansweredContainer = document.getElementById("unanswered-questions");
                unansweredContainer.innerHTML = `<h3>Unanswered Questions:</h3><ul>${unansweredQuestions.map(q => `<li>${q}</li>`).join("")}</ul>`;
                unansweredContainer.style.display = "block";
                return;
            }

            // Tính bandScore dựa trên correctCount
            let bandScore = calculateBandScore(correctCount);

            // Nếu tất cả các câu hỏi đã được trả lời
            const unansweredContainer = document.getElementById("unanswered-questions");
            unansweredContainer.innerHTML = `<h3>Unanswered Questions:</h3><p>None</p>`;
            unansweredContainer.style.display = "block";

            // Hiển thị kết quả
            //resultHTML += `</table>`;
            //document.getElementById("results").innerHTML = `<h2>You got ${correctCount} correct answers!</h2>` + resultHTML;

            // Gửi dữ liệu đã sắp xếp lên Google Sheets
            sendDataToGoogleSheet(name_user, className_user, answers, correctCount, bandScore);
        }
                // Hàm tính bandScore
                function calculateBandScore(correctCount) {
                    if (correctCount >= 39) return 9.0;
                    if (correctCount >= 37) return 8.5;
                    if (correctCount >= 35) return 8.0;
                    if (correctCount >= 33) return 7.5;
                    if (correctCount >= 30) return 7.0;
                    if (correctCount >= 27) return 6.5;
                    if (correctCount >= 23) return 6.0;
                    if (correctCount >= 20) return 5.5;
                    if (correctCount >= 16) return 5.0;
                    if (correctCount >= 13) return 4.5;
                    if (correctCount >= 10) return 4.0;
                    if (correctCount >= 7) return 3.5;
                    if (correctCount >= 5) return 3.0;
                    if (correctCount >= 3) return 2.5;
                    return 0.0;
                }
                let timer; // Biến lưu bộ đếm thời gian

                function startTimer(duration) {
                    const timerElement = document.getElementById("timer");
                    let timeRemaining = duration;

                    function updateTimer() {
                        const minutes = Math.floor(timeRemaining / 60);
                        const seconds = timeRemaining % 60;
                        timerElement.textContent = `Time Remaining: ${minutes}:${seconds < 10 ? "0" + seconds : seconds}`;

                        if (timeRemaining <= 0) {
                            clearInterval(timer); // Dừng bộ đếm thời gian
                            timerElement.textContent = "Time's up!";
                            autoSubmit(); // Tự động nộp bài khi hết thời gian
                        }

                        timeRemaining--;
                    }

                    updateTimer(); // Hiển thị thời gian ban đầu
                    timer = setInterval(updateTimer, 1000); // Cập nhật mỗi giây
                }

                function autoSubmit() {
                const allQuestions = document.querySelectorAll('.input-field, input[type="radio"], input[type="checkbox"]');
                allQuestions.forEach(question => {
                    const questionId = question.id || question.name;

                    if (question.type === "text" && !question.value.trim()) {
                        question.value = "NONE"; // Điền "NONE" cho câu hỏi dạng text chưa trả lời
                    } else if (question.tagName === "SELECT" && !question.value) {
                        const noneOption = document.createElement("option");
                        noneOption.value = "NONE";
                        noneOption.textContent = "NONE";
                        question.appendChild(noneOption);
                        question.value = "NONE";
                    } else if (question.type === "radio") {
                        const radios = document.getElementsByName(question.name);
                        const selectedRadio = Array.from(radios).find(radio => radio.checked);
                        if (!selectedRadio) {
                            // Tạo một radio ảo để lưu giá trị "NONE"
                            const noneRadio = document.createElement("input");
                            noneRadio.type = "radio";
                            noneRadio.name = question.name;
                            noneRadio.value = "NONE";
                            noneRadio.checked = true;
                            document.body.appendChild(noneRadio); // Thêm vào DOM tạm thời
                        }
                    } else if (question.type === "checkbox") {
                        const checkboxes = document.getElementsByName(question.name);
                        const selectedCheckboxes = Array.from(checkboxes).filter(checkbox => checkbox.checked);
                        if (selectedCheckboxes.length === 0) {
                            // Tạo một checkbox ảo để lưu giá trị "NONE"
                            const noneCheckbox = document.createElement("input");
                            noneCheckbox.type = "checkbox";
                            noneCheckbox.name = question.name;
                            noneCheckbox.value = "NONE";
                            noneCheckbox.checked = true;
                            document.body.appendChild(noneCheckbox); // Thêm vào DOM tạm thời
                        }
                    }
                });

                checkAnswers(); // Gọi hàm nộp bài
                }

                // Bắt đầu bộ đếm thời gian khi người dùng bắt đầu bài kiểm tra
                document.addEventListener("DOMContentLoaded", () => {
                const duration = 60 * 60; // 60 phút
                startTimer(duration);
                });
    
    </script>
</body>
</html>