<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Split Layout</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            line-height: 1.6;
            margin: 20px;
            font-size: 12px;
        }
        .container {
            display: flex; /* Sử dụng Flexbox để chia bố cục */
            height: 100vh; /* Chiều cao toàn màn hình */
        }
        .left-panel, .right-panel {
            flex: 1; /* Mỗi cột chiếm một nửa chiều rộng */
            padding: 20px;
            overflow-y: auto; /* Thêm cuộn dọc nếu nội dung quá dài */
        }
        .left-panel {
            background-color: #fffbe6; /* Màu nền cho cột bên trái */
        }
        .right-panel {
            background-color: #ffffff; /* Màu nền cho cột bên phải */
            border-left: 2px solid #ccc; /* Đường viền giữa hai cột */
        }
        .title {
            text-align: center;
            font-size: 24px;
            font-weight: bold;
        }
        .passage {
            margin-top: 20px;
        }
        .subtitle {
            font-size: 18px;
            font-weight: bold;
            margin-top: 10px;
        }
        .content-box {
        border: 1px solid #ccc;
        padding: 20px;
        margin-top: 20px;
        background-color: #f9f9f9;
        border-radius: 5px;
        }
        .question-container {
            display: flex;
            justify-content: space-between;
            flex-wrap: wrap;
            margin-top: 20px;
        }
        .question {
            margin-bottom: 10px;
            font-size: 12px;
        }
        .input-field {
            width: 90px;
            font-size: 12px;
        }
        .column {
            width: 48%;
        }
        table {
            width: 100%;
            border-collapse: collapse;
		}
        .form-container, .welcome-container {
            background: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
            display: block;
        }
        .form-container h2, .welcome-container h2 {
            text-align: center;
        }
        .form-group {
            margin-bottom: 15px;
        }
        .form-group label {
            display: block;
            margin-bottom: 5px;
        }
        .form-group input {
            width: 100%;
            padding: 8px;
            border: 1px solid #ccc;
            border-radius: 4px;
        }
        .btn {
            padding: 10px 20px;
            background-color: #007bff;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            align-items: center; 
        }
        .btn:hover {
            background-color: #0056b3;
        }
        .hidden {
            display: none;
        } 
        .nav-buttons {
            display: flex;
            justify-content: center; /* Căn giữa các nút */
            gap: 20px; /* Khoảng cách giữa các nút */
            text-align: center;
            margin: 20px 0;
        }
        .nav-buttons button {
            padding: 10px 20px;
            margin: 5px;
            background-color: #007bff;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
        }
        .nav-buttons button:hover {
            background-color: #0056b3;
        }
        .content-box {
            border: 1px solid #ccc;
            padding: 20px;
            margin-top: 20px;
            background-color: #f9f9f9;
            border-radius: 5px;
        }
        .highlight {
    	background-color: yellow;
		}
		.underline {
			text-decoration: underline;
		}
        .btn-submit {
            background: linear-gradient(45deg, #ff416c, #ff4b2b);
            border: none;
            color: white;
            padding: 15px 30px;
            font-size: 18px;
            font-weight: bold;
            border-radius: 50px;
            cursor: pointer;
            transition: all 0.3s ease-in-out;
            box-shadow: 0 4px 15px rgba(255, 65, 108, 0.5);
        }

        .btn-submit:hover {
            background: linear-gradient(45deg, #ff4b2b, #ff416c);
            box-shadow: 0 6px 20px rgba(255, 65, 108, 0.7);
            transform: scale(1.05);
        }

        .btn-submit:active {
            transform: scale(0.95);
            box-shadow: 0 2px 10px rgba(255, 65, 108, 0.5);
        }
                /* ...existing styles... */
                #unanswered-questions ul {
            display: flex; /* Hiển thị các mục trên cùng một dòng */
            flex-wrap: wrap; /* Cho phép xuống dòng nếu danh sách quá dài */
            list-style: none; /* Loại bỏ dấu chấm đầu dòng */
            padding: 0;
            margin: 0;
        }

        #unanswered-questions ul li {
            margin-right: 10px; /* Khoảng cách giữa các mục */
        }
        .btn-container {
            text-align: center; /* Căn giữa nút Register */
            margin-top: 20px;
        }
        .left-panel, .right-panel {
        padding: 20px;
        overflow-y: auto;
        }

        .left-panel {
        background-color: #fffbe6;
        flex: 1;
        }

        .right-panel {
        background-color: #ffffff;
        flex: 1;
        border-left: 2px solid #ccc;
        }
    </style>
</head>
<body>
        <!-- Form đăng nhập -->
        <div class="container form-container">
            <h2 style="text-align: center;">Insert your information</h2>
            <form onsubmit="handleInfoSubmit(event)">
                <div class="form-group">
                    <label for="name">Full Name:</label>
                    <input type="text" id="name" name="name" required>
                </div>
                <div class="form-group">
                    <label for="class">Class:</label>
                    <input type="text" id="class" name="class" required>
                </div style="text-align: center; margin-top: 20px;">
                <div class="btn-container">
                    <button type="submit" class="btn">Register</button>
                </div>
            </form>
        </div>
    <div class="container welcome-container hidden">
        <div class="container">
            <!-- Cột bên trái -->
            <div class="left-panel">  
                 <!-- Nội dung Message 1 -->
                <div id="message1">
                    <h2 id="welcome-message" style="text-align: center;"></h2>
                    <div class="subtitle">READING PASSAGE 1</div>
                    <p>You should spend about 20 minutes on <strong>Questions 1-13</strong>, which are based on Reading Passage 1 below.</p>
                    <div class="content-box">
                        <h2>Materials to take us beyond concrete</h2>
                        <p><strong>Concrete is everywhere, but it’s bad for the planet, generating large amounts of carbon dioxide – alternatives are being developed</strong></p>
                        <p>
                            <strong>A</strong> Concrete is the second most used substance in the global economy, after water – and one of the world’s biggest single sources of greenhouse gas emissions. The chemical process by which cement, the key ingredient of concrete, is created results in large quantities of carbon dioxide. The UN estimates that there will be 9.8 billion people living on the planet by mid-century. They will need somewhere to live. If concrete is the only answer to the construction of new cities, then carbon emissions will soar, aggravating global warming. And so scientists have started innovating with other materials, in a scramble for alternatives to a universal commodity that has underpinned our modern life for many years.
                        </p>
                        <p>
                            <strong>B</strong> The problem with replacing concrete is that it is so very good at what it does. Chris Cheeseman, an engineering professor at Imperial College London, says the key thing to consider is the extent to which concrete is used around the world, and is likely to continue to be used. ‘Concrete is not a high-carbon product. Cement is high carbon, but concrete is not. But it is the scale on which it is used that makes it high carbon. The sheer scale of manufacture is so huge, that is the issue.’
                        </p>
                        <p>
                            <strong>C</strong> Not only are the ingredients of concrete relatively cheap and found in abundance in most places around the globe, the stuff itself has marvellous properties: Portland cement, the vital component of concrete, is mouldable and pourable, but quickly sets hard. Cheeseman also notes another advantage: concrete and steel have similar thermal expansion properties, so steel can be used to reinforce concrete, making it far stronger and more flexible as a building material than it could be on its own. According to Cheeseman, all these factors together make concrete hard to beat. ‘Concrete is amazing stuff. Making anything with similar properties is going to be very difficult.’
                        </p>
                        <p>
                            <strong>D</strong> A possible alternative to concrete is wood. Making buildings from wood may seem like a rather medieval idea, but climate change is driving architects to turn to treated timber as a possible resource. Recent years have seen the emergence of tall buildings constructed almost entirely from timber. Vancouver, Vienna and Brumunddal in Norway are all home to constructed tall, wooden buildings.
                        </p>
                        <p>
                            <strong>E</strong> Using wood to construct buildings, however, is not straightforward. Wood expands as it absorbs moisture from the air and is susceptible to pests, not to mention fire. But treating wood and combining it with other materials can improve its properties. Cross-laminated timber is engineered wood. An adhesive is used to stick layers of solid-sawn timber together, crosswise, to form building blocks. This material is light but has the strength of concrete and steel. Construction experts say that wooden buildings can be constructed at a greater speed than ones of concrete and steel and the process, it seems, is quieter.
                        </p>
                        <p>
                            <strong>F</strong> Stora Enso is Europe’s biggest supplier of cross-laminated timber, and its vice-president Markus Mannström reports that the company is seeing increasing demand globally for building in wood, with climate change concerns the key driver. Finland, with its large forests, where Stora Enso is based, has been leading the way, but the company is seeing a rise in demand for its timber products across the world, including in Asia. Of course, using timber in a building also locks away the carbon that it absorbed as it grew. But even treated wood has its limitations and only when a wider range of construction projects has been proven in practice will it be possible to see wood as a real alternative to concrete in constructing tall buildings.
                        </p>
                        <p>
                            <strong>G</strong> Fly ash and slag from iron ore are possible alternatives to cement in a concrete mix. Fly ash, a byproduct of coal-burning power plants, can be incorporated into concrete mixes to make up as much as 15 to 30% of the cement, without harming the strength or durability of the resulting mix. Iron-ore slag, a byproduct of the iron-ore smelting process, can be used in a similar way. Their incorporation into concrete mixes has the potential to reduce greenhouse gas emissions.
                        </p>
                        <p>
                            But Anna Surgenor, of the UK’s Green Building Council, notes that although these waste products can save carbon in the concrete mix, their use is not always straightforward. “It’s possible to replace the cement content in concrete with waste products to lower the overall carbon impact. But there are several calculations that need to be considered across the entire life cycle of the building – these include factoring in where these materials are being shipped from. If they are transported over long distances, using fossil fuels, the use of alternative materials might not make sense from an overall carbon reduction perspective.”
                        </p>
                        <p>
                            <strong>H</strong> While these technologies are all promising ideas, they are either unproven or based on materials that are not abundant. In their overview of innovation in the concrete industry, Felix Preston and Johanna Lehne of the UK’s Royal Institute of International Affairs reached the conclusion that “new low-carbon cements have been discussed for more than a decade with the research community, without breaking through. At present, these alternatives are rarely as cost-effective as conventional cement, and they face raw-material shortages and resistance from customers.”
                        </p>
                    </div>
                </div>
                  <!-- Nội dung Message 2 -->
                <div id="message2" class="content-box hidden">
                    <div class="content-box">
                        <h2>The steam car</h2>
                        <h3>The successes and failures of the Doble brothers and their steam cars</h3>
                        <p>
                            <strong>A</strong> When primitive automobiles first began to appear in the 1800s, their engines were based on steam power. Steam had already enjoyed a long and successful career in the railways, so it was only natural that the technology evolved into a miniaturized version which was separate from the trains. But these early cars inherited steam’s weaknesses along with its strengths. The boilers had to be lit by hand, and they required about twenty minutes to build up pressure before they could be driven. Furthermore, their water reservoirs only lasted for about thirty miles before needing replenishment. Despite such shortcomings, these newly designed self-propelled carriages offered quick transportation, and by the early 1900s it was not uncommon to see such machines shuttling wealthy citizens around town.
                        </p>
                        <p>
                            <strong>B</strong> But the glory days of steam cars were few. A new technology called the Internal Combustion Engine soon appeared, which offered the ability to drive down the road just moments after starting up. At first, these noisy gasoline cars were unpopular because they were more complicated to operate and they had difficult hand-crank starters, which were known to break arms when the engines backfired. But in 1912 General Motors introduced the electric starter, and over the following few years steam power was gradually phased out.
                        </p>
                        <p>
                            <strong>C</strong> Even as the market was declining, four brothers made one last effort to rekindle the technology. Between 1906 and 1909, while still attending high school, Abner Doble and his three brothers built their first steam car in their parents’ basement. It comprised parts taken from a wrecked early steam car but reconfigured to drive an engine of their own design. Though it did not run well, the Doble brothers went on to build a second and third prototype in the following years. Though the Doble boys’ third prototype, nicknamed the Model B, still lacked the convenience of an internal combustion engine, it drew the attention of automobile trade magazines due to its numerous improvements over previous steam cars. The Model B proved to be superior to gasoline automobiles in many ways. Its high-pressure steam drove the engine pistons in virtual silence, in contrast to clattering gas engines which emitted the aroma of burned hydrocarbons. Perhaps most impressively, the Model B was amazingly quick. It could accelerate from zero to sixty miles per hour in just fifteen seconds, a feat described as “remarkable acceleration” by Automobile magazine in 1914.
                        </p>
                        <p>
                            <strong>D</strong> The following year Abner Doble drove the Model B from Massachusetts to Detroit in order to seek investment in his automobile design, which he used to open the General Engineering Company. He and his brothers immediately began working on the Model C, which was intended to expand upon the innovations of the Model B. The brothers added features such as a key-based ignition in the cabin, eliminating the need for the operator to manually ignite the boiler. In addition, the Model C’s condenser allowed for water reuse, greatly increasing its range. The Model C was advertised as a gasoline car with the comfort and quiet of steam, which simpler driving controls, and a virtually silent powerplant. By the following April, the General Engineering Company had received 5,390 deposits for Doble Detroits, which were scheduled for delivery in early 1918.
                        </p>
                        <p>
                            <strong>E</strong> Later that year Abner Doble delivered unhappy news to those eagerly awaiting the delivery of their modern new cars. Those buyers who received the handful of completed cars complained that the vehicles were sluggish and erratic, sometimes going in reverse when they should go forward. The new engine design, though innovative, was still plagued with serious glitches.
                        </p>
                        <p>
                            <strong>F</strong> The brothers made one final attempt to produce a viable steam automobile. In early 1924, the Doble brothers shipped a Model E to New York City to be road-tested by the Automobile Club of America. After sitting overnight in freezing temperatures, the car was pushed out into the road and left to sit for over an hour in the frosty morning air. Then, at the turn of the key, the boiler lit and reached its operating pressure inside of forty seconds. As they drove the test vehicle further, they found that its evenly distributed weight lent it surprisingly good handling, even though it was so heavy. As the new Doble steamer was further developed and tested, its maximum speed was pushed to over a hundred miles per hour, and it achieved about fifteen miles per gallon of kerosene with negligible emissions.
                        </p>
                        <p>
                            <strong>G</strong> Sadly, the Dobles’ brilliant steam car was never a financial success. Priced at around $18,000 in 1924, it was popular only among the very wealthy. Plus, it is said that no two Model Es were quite the same, because Abner Doble tinkered endlessly with the design. By the time the company folded in 1931, fewer than fifty of the amazing Model E steam cars had been produced. For his whole career, until his death in 1961, Abner Doble remained adamant that steam-powered automobiles were at least equal to gasoline cars, if not superior. Given the evidence, he may have been right. Many of the Model E Dobles which have survived are still in good working condition, some having been driven over half a million miles with only normal maintenance. Astonishingly, an unmodified Doble Model E runs clean enough to pass emissions laws in California today, and they are pretty strict. It is true that technology poses some difficult problems, but you cannot help but wonder how efficient a steam car might be with the benefit of modern materials and computers. Under the current pressure to improve automotive performance and reduce emissions, it is not unthinkable that the steam car may rise again.
                        </p>
                    </div>
                </div>
                    <!-- Nội dung Message 3 -->
                <div id="message3" class="content-box hidden">
                        <h3>READING PASSAGE 3</h3>
                        <p>You should spend about 20 minutes on <strong>Questions 27-40</strong>, which are based on Reading Passage 3 below.</p>
                        <div class="content-box">
                            <div class="question-container">
                                <h2>The case for mixed-ability classes</h2>
                                <div class="column">
                                    <p>
                                        Picture this scene. It’s an English literature lesson in a UK school, and the teacher has just read an extract from Shakespeare’s <em>Romeo and Juliet</em> with a class of 15-year-olds. He’s given some of the students copies of <em>No Fear Shakespeare</em>, a kid-friendly translation of the original. For three students, even these literacy demands are beyond them. Another girl simply can’t focus and she gives her pen and paper to draw with. The teacher can ask the <em>No Fear</em> group to identify the key characters and maybe provide a tentative plot summary. He can ask most of the class about character development, and five of them might be able to support their statements with textual evidence. Now two curious students are wondering whether Shakespeare advocates living a life of moderation or one of passionate engagement.
                                    </p>
                                    <p>
                                        As a teacher myself, I’d think my lesson would be going rather well if the discussion went as described above. But wouldn’t this kind of practice work better if there weren’t such a huge gap between the top and the bottom? If we put all the kids who needed literacy support into one class, and all the students who want to discuss the virtue of moderation into another?
                                    </p>
                                    <p>
                                        The practice of ‘streaming’, or ‘tracking’, involves separating students into classes depending on their diagnosed levels of attainment. At a macro level, it requires the establishment of academically selective schools for the brightest students, and comprehensive schools for the rest. Within schools, it means selecting students into a ‘stream’ of general ability, or ‘sets’ of subject-specific ability. The practice is intuitively appealing to almost every stakeholder.
                                    </p>
                                    <p>
                                        I have heard the mixed-ability model attacked by way of analogy: a group hike. The fittest in the group take the lead and set a brisk pace, only to have to stop and wait every 20 minutes. This is frustrating, and their enthusiasm wanes. Meanwhile, the slowest are not only embarrassed but physically struggling to keep up. What’s worse, they never get a long enough break. They honestly just want to quit. Hiking, they feel, is not for them.
                                    </p>
                                    <p>
                                        Mixed-ability classes bore students, frustrate parents and burn out teachers. The brightest ones will never summit Mount Qomolangma, and the stragglers won’t enjoy the lovely stroll in the park they are perhaps more suited to. Individuals suffer at the demands of the collective; mediocrity prevails. So is learning like hiking?
                                    </p>

                                    <p>
                                        The current pedagogical paradigm is arguably that of constructivism, which emerged out of the work of psychologist Lev Vygotsky. In the 1930s, Vygotsky emphasized the importance of targeting a student’s specific “zone of proximal development” (ZPD). This is the gap between what they can achieve only with support — teachers, textbooks, worked examples, parents and so on — and what they can achieve independently. The purpose of teaching is to provide them with gradually more “scaffolding” until they are autonomous. If we accept this model, it follows that streaming students with similar ZPDs would be an efficient and effective solution. And that forcing everyone to work in the same class — regardless of aptitude — would be madness.
                                    </p>
                                </div>
                                <div class="column">
                                    <p>
                                        Despite all this, there is limited empirical evidence to suggest that streaming results in better outcomes for students. Professor John Hattie, director of the Melbourne Education Research Institute, notes that “tracking has minimal effects on learning outcomes”. What is more, streaming appears to significantly – and negatively – affect those students assigned to the lowest sets. These students tend to have much higher representation of low socioeconomic class. Less significant is the small benefit for those few clever students in the higher sets. The overall result is that the smart stay smart and the dumb get dumber, further entrenching the social divide.
                                    </p>
                                    <p>
                                        In the latest update of Hattie’s influential meta-analysis of factors influencing student achievement, one of the most significant factors is the teachers’ estimate of achievement. Streaming students by diagnosed achievement automatically limits what the teacher feels the student is capable of. Meanwhile, in a mixed environment, teachers’ estimates need to be more diverse and flexible.
                                    </p>
                                    <p>
                                        While streaming might seem to help teachers effectively target a student’s ZPD, it can underestimate the importance of peer-to-peer learning. A crucial aspect of constructivist theory is the role of the MKO – “more-knowledgeable other” – in knowledge construction. While teachers are traditionally the MKOs in classrooms, the value of knowledgeable student peers must not go unrecognised either.
                                    </p>
                                    <p>
                                        I find it amazing to watch students get over an idea to their peers in ways that I would never think of. They operate with different language tools and different social tools from teachers and, having just learnt it themselves, they possess similar cognitive structures to their struggling classmates. There is also something exciting about passing on skills and knowledge that you yourself have just mastered — a certain pride and zeal, a certain freshness to the interaction between ‘teacher’ and ‘learner’ that is often lost by the expert for whom the steps are obvious and the joy of discovery forgotten.
                                    </p>
                                    <p>
                                        Having a variety of different abilities in a collaborative learning environment provides valuable resources for helping students meet their learning needs, not to mention improving their communication and social skills. And today, more than ever, we need the many to flourish — not suffer at the expense of a few bright stars. Once a year, I go on a hike with my class, a mixed bunch of students. It is challenging. The fittest students realise they need to encourage the reluctant. There are lookouts who report back, and extra items to carry for others. We make it — together.
                                    </p>
                                </div>
                            </div>
                        </div>

                </div>
            </div>
            <!-- Cột bên phải -->
            <div class="right-panel">
                <div id="timer" style="text-align: center; font-size: 20px; font-weight: bold; margin-top: 20px; color: red;"></div>
                <div class="nav-buttons">
                    <button onclick="showMessage(1)">READING PASSAGE 1</button>
                    <button onclick="showMessage(2)">READING PASSAGE 2</button>
                    <button onclick="showMessage(3)">READING PASSAGE 3</button>
                </div>
                 <!-- Cột bên phải message1-->
                <div id="right-message1" class="content-box active">
                    <h3>Questions 1-4</h3>
                    <p>Reading Passage 1 has eight sections, <strong>A-H</strong>.</p>
                    <p>Which section contains the following information?</p>
                    <p>Write the correct letter, <strong>A-H</strong>, in boxes 1-4 on your answer sheet.</p>
                    <div class="question-container">
                        <div class="question-container">                           
                                <p class="question">1. An explanation of the industrial processes that create potential raw materials for concrete<br>
                                    <select class="input-field" id="q1">
                                        <option value="">-- Select --</option>
                                        <option value="A">A</option>
                                        <option value="B">B</option>
                                        <option value="C">C</option>
                                        <option value="D">D</option>
                                        <option value="E">E</option>
                                        <option value="F">F</option>
                                        <option value="G">G</option>
                                        <option value="H">H</option>
                                    </select>
                                </p>
                                <p class="question">2. A reference to the various locations where high-rise wooden buildings can be found<br>
                                    <select class="input-field" id="q2">
                                        <option value="">-- Select --</option>
                                        <option value="A">A</option>
                                        <option value="B">B</option>
                                        <option value="C">C</option>
                                        <option value="D">D</option>
                                        <option value="E">E</option>
                                        <option value="F">F</option>
                                        <option value="G">G</option>
                                        <option value="H">H</option>
                                    </select>
                                </p>
                                <p class="question">3. An indication of how widely available the raw materials of concrete are<br>
                                    <select class="input-field" id="q3">
                                        <option value="">-- Select --</option>
                                        <option value="A">A</option>
                                        <option value="B">B</option>
                                        <option value="C">C</option>
                                        <option value="D">D</option>
                                        <option value="E">E</option>
                                        <option value="F">F</option>
                                        <option value="G">G</option>
                                        <option value="H">H</option>
                                    </select>
                                </p>
                                <p class="question">4. The belief that more high-rise wooden buildings are needed before wood can be regarded as a viable construction material<br>
                                    <select class="input-field" id="q4">
                                        <option value="">-- Select --</option>
                                        <option value="A">A</option>
                                        <option value="B">B</option>
                                        <option value="C">C</option>
                                        <option value="D">D</option>
                                        <option value="E">E</option>
                                        <option value="F">F</option>
                                        <option value="G">G</option>
                                        <option value="H">H</option>
                                    </select>
                                </p>
                            
                        </div>
                    </div>
                    <h3>Questions 5-8</h3>
                    <p>Complete the summary below.</p>
                    <p>Choose <strong>ONE WORD ONLY</strong> from the passage for each answer.</p>
                    <p>Write your answers in boxes 5-8 on your answer sheet.</p>
                    <div class="question-container">
                        <h4>Making buildings with wood</h4>
                        <p>
                            Wood is a traditional building material, but current environmental concerns are encouraging 
                            5.<input type="text" class="input-field" id="q5" autocomplete="off"> 
                            to use wood in modern construction projects. Using wood, however, has its challenges. For example, as 
                            6.<input type="text" class="input-field" id="q6" autocomplete="off"> 
                            in the atmosphere enters wood, it increases in size. In addition, wood is prone to pests and the risk of fire is greater. However, wood can be turned into a better construction material if it is treated and combined with other materials. In one process, 
                            7.<input type="text" class="input-field" id="q7" autocomplete="off"> 
                            of solid wood are glued together to create building blocks. These blocks are lighter than concrete and steel but equal them in strength. Experts say that wooden buildings are an improvement on those made of concrete and steel in terms of the 
                            8.<input type="text" class="input-field" id="q8" autocomplete="off"> 
                            with which they can be constructed and how much noise is generated by the process.
                        </p>
                    </div>
                    <h3>Questions 9-13</h3>
                    <p>Look at the following statements (Questions 9-13) and the list of people below.</p>
                    <p>Match each statement with the correct person, <strong>A, B, C</strong> or <strong>D</strong>.</p>
                    <p>Write the correct letter, <strong>A, B, C</strong> or <strong>D</strong>, in boxes 9-13 on your answer sheet.</p>
                    <p><strong>NB</strong> You may use any letter more than once.</p>
                    <div class="question-container">
                        
                            <p class="question">9. The environmental advantage of cement alternatives may not be as great as initially assumed.<br>
                                <select class="input-field" id="q9">
                                    <option value="">-- Select --</option>
                                    <option value="A">A</option>
                                    <option value="B">B</option>
                                    <option value="C">C</option>
                                    <option value="D">D</option>
                                </select>
                            </p>
                            <p class="question">10. It would be hard to create a construction alternative to concrete that offers so many comparable benefits.<br>
                                <select class="input-field" id="q10">
                                    <option value="">-- Select --</option>
                                    <option value="A">A</option>
                                    <option value="B">B</option>
                                    <option value="C">C</option>
                                    <option value="D">D</option>
                                </select>
                            </p>
                            <p class="question">11. Worries about the environment have led to increased interest in wood as a construction material.<br>
                                <select class="input-field" id="q11">
                                    <option value="">-- Select --</option>
                                    <option value="A">A</option>
                                    <option value="B">B</option>
                                    <option value="C">C</option>
                                    <option value="D">D</option>
                                </select>
                            </p>
                            <p class="question">12. Expense has been a factor in the negative response to the development of new cements.<br>
                                <select class="input-field" id="q12">
                                    <option value="">-- Select --</option>
                                    <option value="A">A</option>
                                    <option value="B">B</option>
                                    <option value="C">C</option>
                                    <option value="D">D</option>
                                </select>
                            </p>
                            <p class="question">13. The environmental damage caused by concrete is due to it being produced in large quantities.<br>
                                <select class="input-field" id="q13">
                                    <option value="">-- Select --</option>
                                    <option value="A">A</option>
                                    <option value="B">B</option>
                                    <option value="C">C</option>
                                    <option value="D">D</option>
                                </select>
                            </p>
                        
                    </div>
                    <div class="content-box">
                        <h4>List of People</h4>
                        <ul>
                            <li><strong>A</strong> Chris Cheeseman</li>
                            <li><strong>B</strong> Markus Mannström</li>
                            <li><strong>C</strong> Anna Surgenor</li>
                            <li><strong>D</strong> Felix Preston and Johanna Lehne</li>
                        </ul>
                    </div>
                </div>
                <!-- Cột bên phải message2-->
                <div id="right-message2" class="content-box hidden">
                    <h3>Questions 14-20</h3>
                    <p>Reading Passage 2 has seven paragraphs, <strong>A-G</strong>.</p>
                    <p>Choose the correct heading for each paragraph from the list of headings below.</p>
                    <p>Write the correct number, <strong>i-viii</strong>, in boxes 14-20 on your answer sheet.</p>
                    <div class="content-box">
                        <h4>List of Headings</h4>
                        <ul>
                            <li><strong>i</strong> A period in cold conditions before the technology is assessed</li>
                            <li><strong>ii</strong> Marketing issues lead to failure</li>
                            <li><strong>iii</strong> Good and bad aspects of steam technology are passed on</li>
                            <li><strong>iv</strong> A possible solution to the issues of today</li>
                            <li><strong>v</strong> Further improvements lead to commercial orders</li>
                            <li><strong>vi</strong> Positive publicity at last for this quiet, clean, fast vehicle</li>
                            <li><strong>vii</strong> A disappointing outcome for customers</li>
                            <li><strong>viii</strong> A better option than the steam car arises</li>
                        </ul>
                    </div>
                    <div class="question-container">
                        <div class="column">
                            <p class="question">14. Paragraph A
                                <select class="input-field" id="q14">
                                    <option value="">-- Select --</option>
                                    <option value="i">i</option>
                                    <option value="ii">ii</option>
                                    <option value="iii">iii</option>
                                    <option value="iv">iv</option>
                                    <option value="v">v</option>
                                    <option value="vi">vi</option>
                                    <option value="vii">vii</option>
                                    <option value="viii">viii</option>
                                </select>
                            </p>
                            <p class="question">15. Paragraph B
                                <select class="input-field" id="q15">
                                    <option value="">-- Select --</option>
                                    <option value="i">i</option>
                                    <option value="ii">ii</option>
                                    <option value="iii">iii</option>
                                    <option value="iv">iv</option>
                                    <option value="v">v</option>
                                    <option value="vi">vi</option>
                                    <option value="vii">vii</option>
                                    <option value="viii">viii</option>
                                </select>
                            </p>
                            <p class="question">16. Paragraph C
                                <select class="input-field" id="q16">
                                    <option value="">-- Select --</option>
                                    <option value="i">i</option>
                                    <option value="ii">ii</option>
                                    <option value="iii">iii</option>
                                    <option value="iv">iv</option>
                                    <option value="v">v</option>
                                    <option value="vi">vi</option>
                                    <option value="vii">vii</option>
                                    <option value="viii">viii</option>
                                </select>
                            </p>
                        </div>
                        <div class="column">
                            <p class="question">17. Paragraph D
                                <select class="input-field" id="q17">
                                    <option value="">-- Select --</option>
                                    <option value="i">i</option>
                                    <option value="ii">ii</option>
                                    <option value="iii">iii</option>
                                    <option value="iv">iv</option>
                                    <option value="v">v</option>
                                    <option value="vi">vi</option>
                                    <option value="vii">vii</option>
                                    <option value="viii">viii</option>
                                </select>
                            </p>
                            <p class="question">18. Paragraph E
                                <select class="input-field" id="q18">
                                    <option value="">-- Select --</option>
                                    <option value="i">i</option>
                                    <option value="ii">ii</option>
                                    <option value="iii">iii</option>
                                    <option value="iv">iv</option>
                                    <option value="v">v</option>
                                    <option value="vi">vi</option>
                                    <option value="vii">vii</option>
                                    <option value="viii">viii</option>
                                </select>
                            </p>
                            <p class="question">19. Paragraph F
                                <select class="input-field" id="q19">
                                    <option value="">-- Select --</option>
                                    <option value="i">i</option>
                                    <option value="ii">ii</option>
                                    <option value="iii">iii</option>
                                    <option value="iv">iv</option>
                                    <option value="v">v</option>
                                    <option value="vi">vi</option>
                                    <option value="vii">vii</option>
                                    <option value="viii">viii</option>
                                </select>
                            </p>
                            <p class="question">20. Paragraph G
                                <select class="input-field" id="q20">
                                    <option value="">-- Select --</option>
                                    <option value="i">i</option>
                                    <option value="ii">ii</option>
                                    <option value="iii">iii</option>
                                    <option value="iv">iv</option>
                                    <option value="v">v</option>
                                    <option value="vi">vi</option>
                                    <option value="vii">vii</option>
                                    <option value="viii">viii</option>
                                </select>
                            </p>
                        </div>
                    </div>
                    <h3>Questions 21-23</h3>
                    <p>Choose the correct letter, <strong>A, B, C or D</strong>.</p>
                    <p>Write the correct letter in boxes 21-23 on your answer sheet.</p>
                    <div class="question-container">
                        
                            <p class="question">21. What point does the writer make about the steam car in Paragraph B?<br>
                                <input type="radio" name="q21" value="A"> A. Its success was short-lived.<br>
                                <input type="radio" name="q21" value="B"> B. Not enough cars were made.<br>
                                <input type="radio" name="q21" value="C"> C. Car companies found them hard to sell.<br>
                                <input type="radio" name="q21" value="D"> D. People found them hard to drive.<br>
                            </p>
                            <p class="question">22. When building their first steam car, the Doble brothers<br>
                                <input type="radio" name="q22" value="A"> A. constructed all the parts themselves.<br>
                                <input type="radio" name="q22" value="B"> B. made written notes at each stage of the construction.<br>
                                <input type="radio" name="q22" value="C"> C. needed several attempts to achieve a competitive model.<br>
                                <input type="radio" name="q22" value="D"> D. sought the advice of experienced people in the car industry.<br>
                            </p>
                            <p class="question">23. In order to produce the Model C, the Doble brothers<br>
                                <input type="radio" name="q23" value="A"> A. moved production to a different city.<br>
                                <input type="radio" name="q23" value="B"> B. raised financial capital.<br>
                                <input type="radio" name="q23" value="C"> C. employed an additional worker.<br>
                                <input type="radio" name="q23" value="D"> D. abandoned their earlier designs.<br>
                            </p>
                        
                    </div>
                    <h3>Questions 24-26</h3>
                    <p>Complete the summary below.</p>
                    <p>Choose <strong>ONE WORD AND/OR A NUMBER</strong> from the passage for each answer.</p>
                    <p>Write your answers in boxes 24-26 on your answer sheet.</p>
                    <div class="summary">
                        <h2>The Model E</h2>
                        <p>
                            The Model E was road-tested in 1924 by the Automobile Club of America. They found it easy to drive, despite its weight, and it impressed the spectators. A later version of the Model E raised its 24.
                            <input type="text" class="input-field" id="q24" autocomplete="off">, while keeping its emissions extremely low.
                        </p>
                        <p>
                            The steam car was too expensive for many people and its design was constantly being altered. Under 25.
                            <input type="text" class="input-field" id="q25" autocomplete="off"> cars were produced before the company went out of business. However, even today, there are Model Es on the road in the US. They are straightforward to maintain, and they satisfy California’s 26. 
                            <input type="text" class="input-field" id="q26" autocomplete="off"> emissions laws. Perhaps today’s technology and materials would help us revive the steam car.
                        </p>
                    </div>
                </div>
                <!-- Cột bên phải message3-->
                <div id="right-message3" class="content-box hidden">
                    <h3>Questions 27-30</h3>
                    <p>Choose the correct letter, <strong>A, B, C or D</strong>.</p>
                    <p>Write the correct letter in boxes 27-30 on your answer sheet.</p>
                    <div class="question-container">
                            <p class="question">27. The writer describes the <em>Romeo and Juliet</em> lesson in order to demonstrate<br>
                                <input type="radio" name="q27" value="A"> A. how few students are interested in literature.<br>
                                <input type="radio" name="q27" value="B"> B. how a teacher handles a range of learning needs.<br>
                                <input type="radio" name="q27" value="C"> C. how unsuitable Shakespeare is for most teenagers.<br>
                                <input type="radio" name="q27" value="D"> D. how weaker students can disrupt their classmates’ learning.<br>
                            </p>
                            <p class="question">28. What does the writer say about streaming in the third paragraph?<br>
                                <input type="radio" name="q28" value="A"> A. It has a very broad appeal.<br>
                                <input type="radio" name="q28" value="B"> B. It favours cleverer students.<br>
                                <input type="radio" name="q28" value="C"> C. It is relatively simple to implement.<br>
                                <input type="radio" name="q28" value="D"> D. It works better in some schools than others.<br>
                            </p>
                            <p class="question">29. What idea is suggested by the reference to Mount Qomolangma in the fifth paragraph?<br>
                                <input type="radio" name="q29" value="A"> A. students following unsuitable paths<br>
                                <input type="radio" name="q29" value="B"> B. students attempting interesting tasks<br>
                                <input type="radio" name="q29" value="C"> C. students not achieving their full potential<br>
                                <input type="radio" name="q29" value="D"> D. students not being aware of their limitations<br>
                            </p>
                            <p class="question">30. What does the word ‘scaffolding’ in the sixth paragraph refer to?<br>
                                <input type="radio" name="q30" value="A"> A. the factors which prevent a student from learning effectively<br>
                                <input type="radio" name="q30" value="B"> B. the environment where most of a student’s learning takes place<br>
                                <input type="radio" name="q30" value="C"> C. the assistance given to a student in their initial stages of learning<br>
                                <input type="radio" name="q30" value="D"> D. the setting of appropriate learning targets for a student’s aptitude<br>
                            </p>
                    </div>
                    <h3>Questions 31-35</h3>
                    <p>Complete the summary using the list of phrases, <strong>A–I</strong>, below.</p>
                    <p>Write the correct letter, <strong>A–I</strong>, in boxes 31–35 on your answer sheet.</p>
                    <div class="summary">
                        <h4>Is streaming effective?</h4>
                        <p>
                            According to Professor John Hattie of the Melbourne Education Research Institute, there is very little indication that streaming leads to 
                            31.<select class="input-field" id="q31">
                                <option value="">-- Select --</option>
                                <option value="A">A</option>
                                <option value="B">B</option>
                                <option value="C">C</option>
                                <option value="D">D</option>
                                <option value="E">E</option>
                                <option value="F">F</option>
                                <option value="G">G</option>
                                <option value="H">H</option>
                                <option value="I">I</option>
                            </select>. He points out that, in schools which use streaming, the most significant impact is on those students placed in the 
                            32.<select class="input-field" id="q32">
                                <option value="">-- Select --</option>
                                <option value="A">A</option>
                                <option value="B">B</option>
                                <option value="C">C</option>
                                <option value="D">D</option>
                                <option value="E">E</option>
                                <option value="F">F</option>
                                <option value="G">G</option>
                                <option value="H">H</option>
                                <option value="I">I</option>
                            </select>, especially where a large proportion of them have<p></p>
                            33.<select class="input-field" id="q33">
                                <option value="">-- Select --</option>
                                <option value="A">A</option>
                                <option value="B">B</option>
                                <option value="C">C</option>
                                <option value="D">D</option>
                                <option value="E">E</option>
                                <option value="F">F</option>
                                <option value="G">G</option>
                                <option value="H">H</option>
                                <option value="I">I</option>
                            </select>. Meanwhile, for the 
                            34.<select class="input-field" id="q34">
                                <option value="">-- Select --</option>
                                <option value="A">A</option>
                                <option value="B">B</option>
                                <option value="C">C</option>
                                <option value="D">D</option>
                                <option value="E">E</option>
                                <option value="F">F</option>
                                <option value="G">G</option>
                                <option value="H">H</option>
                                <option value="I">I</option>
                            </select>, there appears to be only minimal advantage. A further issue is that teachers tend to have 
                            35.<select class="input-field" id="q35">
                                <option value="">-- Select --</option>
                                <option value="A">A</option>
                                <option value="B">B</option>
                                <option value="C">C</option>
                                <option value="D">D</option>
                                <option value="E">E</option>
                                <option value="F">F</option>
                                <option value="G">G</option>
                                <option value="H">H</option>
                                <option value="I">I</option>
                            </select> of students in streamed groups.
                        </p>
                    </div>
                    <div class="content-box">
                        <h4>List of Phrases</h4>
                        <ul>
                            <li><strong>A</strong> wrong classes</li>
                            <li><strong>B</strong> lower expectations</li>
                            <li><strong>C</strong> average learners</li>
                            <li><strong>D</strong> bottom sets</li>
                            <li><strong>E</strong> brightest pupils</li>
                            <li><strong>F</strong> disadvantaged backgrounds</li>
                            <li><strong>G</strong> weaker students</li>
                            <li><strong>H</strong> higher achievements</li>
                            <li><strong>I</strong> positive impressions</li>
                        </ul>
                    </div>
                    <h3>Questions 36–40</h3>
                    <p>Do the following statements agree with the views of the writer in Reading Passage 3?</p>
                    <p>In boxes 36–40 on your answer sheet, write</p>
                    <ul>
                        <li><strong>YES</strong> if the statement agrees with the views of the writer</li>
                        <li><strong>NO</strong> if the statement contradicts the views of the writer</li>
                        <li><strong>NOT GIVEN</strong> if it is impossible to say what the writer thinks about this</li>
                    </ul>
                    <div class="question-container">
                            <p class="question">36. The Vygotsky model of education supports the concept of a mixed-ability class.<br>
                                <input type="radio" name="q36" value="YES"> YES &nbsp;&nbsp;
                                <input type="radio" name="q36" value="NO"> NO &nbsp;&nbsp;
                                <input type="radio" name="q36" value="NOT GIVEN"> NOT GIVEN
                            </p>
                            <p class="question">37. Some teachers are uncertain about allowing students to take on MKO roles in the classroom.<br>
                                <input type="radio" name="q37" value="YES"> YES &nbsp;&nbsp;
                                <input type="radio" name="q37" value="NO"> NO &nbsp;&nbsp;
                                <input type="radio" name="q37" value="NOT GIVEN"> NOT GIVEN
                            </p>
                            <p class="question">38. It can be rewarding to teach knowledge which you have only recently acquired.<br>
                                <input type="radio" name="q38" value="YES"> YES &nbsp;&nbsp;
                                <input type="radio" name="q38" value="NO"> NO &nbsp;&nbsp;
                                <input type="radio" name="q38" value="NOT GIVEN"> NOT GIVEN
                            </p>
                            <p class="question">39. The priority should be to ensure that the highest-achieving students attain their goals.<br>
                                <input type="radio" name="q39" value="YES"> YES &nbsp;&nbsp;
                                <input type="radio" name="q39" value="NO"> NO &nbsp;&nbsp;
                                <input type="radio" name="q39" value="NOT GIVEN"> NOT GIVEN
                            </p>
                            <p class="question">40. Taking part in collaborative outdoor activities with teachers and classmates can improve student outcomes in the classroom.<br>
                                <input type="radio" name="q40" value="YES"> YES &nbsp;&nbsp;
                                <input type="radio" name="q40" value="NO"> NO &nbsp;&nbsp;
                                <input type="radio" name="q40" value="NOT GIVEN"> NOT GIVEN
                            </p>
                    </div>
                    <div class="btn-container">
                        <button onclick="checkAnswers()" class="btn-submit">Submit</button>
                    </div>
                    <div id="results"></div>
                    <div id="unanswered-questions" style="display: none; color: red; margin-top: 20px;"></div>
                  <!-- continue -->  
                </div>
            </div>
        </div>
    </div>

    <script>
                // Khai báo biến toàn cục
        let name_user = "";
        let className_user = "";
        function handleInfoSubmit(event) {
            event.preventDefault(); // Ngăn chặn hành động mặc định của form

            // Lấy giá trị từ các trường nhập liệu
            const name = document.getElementById("name").value;
            const className = document.getElementById("class").value;
            name_user=name;
            className_user=className;
            // Kiểm tra nếu các trường nhập liệu không rỗng
            if (!name || !className) {
                alert("Please fill in all fields.");
                return;
            }

            // Ẩn form đăng nhập
            document.querySelector(".form-container").classList.add("hidden");

            // Hiển thị bài test
            const welcomeContainer = document.querySelector(".welcome-container");
            welcomeContainer.classList.remove("hidden");

            // Hiển thị thông báo chào mừng
            document.getElementById("welcome-message").innerText = `READING 3(C18-T3)`;
        }
        //Handle button 
        function showMessage(messageNumber) {
            // Ẩn tất cả các message trong left-panel
            document.getElementById("message1").classList.add("hidden");
            document.getElementById("message2").classList.add("hidden");
            document.getElementById("message3").classList.add("hidden");

            // Hiển thị message được chọn trong left-panel
            document.getElementById(`message${messageNumber}`).classList.remove("hidden");

            // Ẩn tất cả các message trong right-panel
            document.getElementById("right-message1").classList.add("hidden");
            document.getElementById("right-message2").classList.add("hidden");
            document.getElementById("right-message3").classList.add("hidden");

            // Hiển thị message được chọn trong right-panel
            document.getElementById(`right-message${messageNumber}`).classList.remove("hidden");

            // Cuộn về đầu trang
            window.scrollTo({
                top: 0,
                behavior: "smooth" // Cuộn mượt
            });
        }
        <!-- JavaScript để hỗ trợ highlight, underline, xóa định dạng -->
		function getSelectedText() {
						let selection = window.getSelection();
						if (!selection.rangeCount) return null;
						return selection.getRangeAt(0);
					}
					
					function wrapSelection(className) {
                            let range = getSelectedText();
                            if (range) {
                                // Kiểm tra nếu vùng chọn nằm trong cùng một node cha
                                let startParent = range.startContainer.parentNode;
                                let endParent = range.endContainer.parentNode;
                                if (startParent === endParent) {
                                    let span = document.createElement("span");
                                    span.className = className;
                                    span.appendChild(range.extractContents());
                                    range.insertNode(span);
                                } else {
                                    alert("Chỉ có thể bôi đen trong cùng một dòng hoặc đoạn!");
                                }
                            }
                    }
					
					function highlightText() {
						wrapSelection("highlight");
					}
					
					function underlineText() {
						wrapSelection("underline");
					}

					function removeFormattingFromSelection() {
				let selection = window.getSelection();
				if (!selection.rangeCount) return;

				let range = selection.getRangeAt(0);
				let elementsToRemove = [];

				function findStyledNodes(node) {
					if (node.nodeType === 1 && (node.classList.contains("highlight") || node.classList.contains("underline"))) {
						elementsToRemove.push(node);
					}
					node.childNodes.forEach(findStyledNodes);
				}

				findStyledNodes(range.commonAncestorContainer);

				elementsToRemove.forEach(element => {
					let parent = element.parentNode;
					while (element.firstChild) {
						parent.insertBefore(element.firstChild, element);
					}
					parent.removeChild(element);
				});

				selection.removeAllRanges();
			}


        	document.addEventListener("mouseup", function() {
                const selection = window.getSelection();
                if (selection.rangeCount && !selection.isCollapsed) {
                    const range = selection.getRangeAt(0);
                    // Không highlight nếu vùng chọn nằm trong input, textarea
                    let startNode = range.startContainer.parentNode;
                    let endNode = range.endContainer.parentNode;
                    if (
                        !["INPUT", "TEXTAREA"].includes(startNode.nodeName) &&
                        !["INPUT", "TEXTAREA"].includes(endNode.nodeName)
                    ) {
                        wrapSelection("highlight");
                        selection.removeAllRanges();
                    }
                }
            });
            document.addEventListener("keydown", function(e) {
                // Nếu nhấn Ctrl+R (hoặc Cmd+R trên Mac)
                if ((e.ctrlKey || e.metaKey) && e.key.toLowerCase() === "r") {
                    e.preventDefault(); // Ngăn reload trang
                    removeFormattingFromSelection();
                }
            });
            document.addEventListener("click", function(e) {
                // Chỉ xóa highlight nếu click vào vùng đã bôi vàng và KHÔNG có vùng chọn nào đang active
                const selection = window.getSelection();
                if (
                    e.target.classList &&
                    e.target.classList.contains("highlight") &&
                    selection.isCollapsed // Không có vùng chọn nào đang active
                ) {
                    let parent = e.target.parentNode;
                    while (e.target.firstChild) {
                        parent.insertBefore(e.target.firstChild, e.target);
                    }
                    parent.removeChild(e.target);
                }
            });
                // Function to send data to Google Sheets
        function sendDataToGoogleSheet(name, className, answers, correctCount, bandScore) {
            console.log("Sending data:", { name, className, answers, correctCount, bandScore }); // Kiểm tra dữ liệu
            const scriptURL = "https://script.google.com/macros/s/AKfycbwwhd-5kb5PcZBRiOJ1ir22j5FGtxh6VtTali9OPuVOkjA4T64aZtw3LqVhQvYHEjIl/exec"; // Thay bằng URL của Google Apps Script
            const data = {
                name: name,
                className: className,
                answers: answers,
                correctCount: correctCount,
                bandScore: bandScore // Gửi bandScore
            };

            fetch(scriptURL, {
                method: "POST",
                mode: 'no-cors',
                body: JSON.stringify(data),
                headers: {
                    "Content-Type": "application/json"
                }
            })
            .then(response => response.text())
            .then(result => {
                console.log("Success:", result);
                alert("Data sent to Google Sheets successfully!");
            })
            .catch(error => {
                console.error("Error:", error);
                alert("Failed to send data to Google Sheets.");
            });
        }
        function checkAnswers() {
                    const correctAnswers = {
                        q1: "G",
                        q2: "D",
                        q3: "C",
                        q4: "F",
                        q5: "architects",
                        q6: "moisture",
                        q7: "layers",
                        q8: "speed",
                        q9: "C",
                        q10: "A",
                        q11: "B",
                        q12: "D",
                        q13: "A",
                        q14: "iii",
                        q15: "viii",
                        q16: "vi",
                        q17: "v",
                        q18: "vii",
                        q19: "i",
                        q20: "iv",
                        q21: "A",
                        q22: "C",
                        q23: "B",
                        q24: "speed",
                        q25: ["50", "fifty"], // Đáp án đúng có thể là "50" hoặc "fifty"
                        q26: "strict",
                        q27: "B",
                        q28: "A",
                        q29: "C",
                        q30: "C",
                        q31: "H",
                        q32: "D",
                        q33: "F",
                        q34: "E",
                        q35: "B",
                        q36: "NO",
                        q37: "NOT GIVEN",
                        q38: "YES",
                        q39: "NO",
                        q40: "NOT GIVEN"
                    };

                    let correctCount = 0;
                    let resultHTML = `<table><tr><th>Question</th><th>Your Answer</th><th>Correct Answer</th><th>Result</th></tr>`;
                    const answers = {}; // Đối tượng lưu câu trả lời của người dùng
                    const unansweredQuestions = []; // Danh sách các câu hỏi chưa được điền

                    // Lấy tất cả các câu hỏi dạng text
                    const textQuestions = Array.from(document.querySelectorAll('.input-field')).sort((a, b) => {
                        const idA = parseInt(a.id.replace("q", ""), 10);
                        const idB = parseInt(b.id.replace("q", ""), 10);
                        return idA - idB;
                    });

                    // Lấy tất cả các câu hỏi dạng radio
                    const radioQuestions = Array.from(document.querySelectorAll('input[type="radio"]')).reduce((acc, radio) => {
                        if (!acc.includes(radio.name)) acc.push(radio.name);
                        return acc;
                    }, []);

                    let allFieldsFilled = true; // Biến kiểm tra xem tất cả các trường đã được điền chưa

                    // Xử lý câu hỏi dạng text
                    textQuestions.forEach(question => {
                        const questionId = question.id; // Lấy ID của câu hỏi
                        const correctAnswer = correctAnswers[questionId]; // Lấy đáp án đúng

                        let userAnswer = question.value.trim().toLowerCase(); // Lấy câu trả lời từ input text và chuyển về chữ thường
                        if (!userAnswer) {
                            allFieldsFilled = false; // Nếu trường text chưa được điền
                            question.classList.add("incorrect"); // Đánh dấu trường chưa điền
                            unansweredQuestions.push(questionId.replace("q", "Question ")); // Thêm câu hỏi chưa được điền vào danh sách
                        } else {
                            question.classList.remove("incorrect");
                            answers[questionId] = userAnswer; // Lưu câu trả lời của người dùng

                            // Kiểm tra đáp án cho câu 25
                            if (questionId === "q25") {
                                if (correctAnswer.includes(userAnswer)) {
                                    correctCount++;
                                    resultHTML += `<tr>
                                        <td>${questionId.replace("q", "Question ")}</td>
                                        <td>${userAnswer}</td>
                                        <td>${correctAnswer.join(" or ")}</td>
                                        <td>✔</td>
                                    </tr>`;
                                } else {
                                    resultHTML += `<tr>
                                        <td>${questionId.replace("q", "Question ")}</td>
                                        <td>${userAnswer}</td>
                                        <td>${correctAnswer.join(" or ")}</td>
                                        <td>✘</td>
                                    </tr>`;
                                }
                            } else {
                                // So sánh câu trả lời của người dùng với đáp án đúng
                                if (userAnswer === correctAnswer?.toLowerCase()) {
                                    correctCount++;
                                    resultHTML += `<tr>
                                        <td>${questionId.replace("q", "Question ")}</td>
                                        <td>${userAnswer}</td>
                                        <td>${correctAnswer}</td>
                                        <td>✔</td>
                                    </tr>`;
                                } else {
                                    resultHTML += `<tr>
                                        <td>${questionId.replace("q", "Question ")}</td>
                                        <td>${userAnswer}</td>
                                        <td>${correctAnswer}</td>
                                        <td>✘</td>
                                    </tr>`;
                                }
                            }
                        }
                    });

                    // Xử lý câu hỏi dạng radio
                    radioQuestions.forEach(name => {
                        const radios = document.getElementsByName(name);
                        const questionId = name; // Lấy name của câu hỏi
                        const correctAnswer = correctAnswers[questionId]; // Lấy đáp án đúng

                        let userAnswer = "";
                        const selectedRadio = Array.from(radios).find(radio => radio.checked);
                        if (selectedRadio) {
                            userAnswer = selectedRadio.value;
                            answers[questionId] = userAnswer; // Lưu câu trả lời của người dùng

                            // So sánh câu trả lời của người dùng với đáp án đúng
                            if (userAnswer.toUpperCase() === correctAnswer?.toUpperCase()) {
                                correctCount++;
                                resultHTML += `<tr>
                                    <td>${questionId.replace("q", "Question ")}</td>
                                    <td>${userAnswer}</td>
                                    <td>${correctAnswer}</td>
                                    <td>✔</td>
                                </tr>`;
                            } else {
                                resultHTML += `<tr>
                                    <td>${questionId.replace("q", "Question ")}</td>
                                    <td>${userAnswer}</td>
                                    <td>${correctAnswer}</td>
                                    <td>✘</td>
                                </tr>`;
                            }
                        } else {
                            allFieldsFilled = false; // Nếu radio button chưa được chọn
                            unansweredQuestions.push(questionId.replace("q", "Question ")); // Thêm câu hỏi chưa được điền vào danh sách
                        }
                    });

                    // Nếu có trường chưa được điền, hiển thị thông báo và dừng xử lý
                    if (!allFieldsFilled) {
                        const unansweredContainer = document.getElementById("unanswered-questions");
                        unansweredContainer.innerHTML = `<h3>Unanswered Questions:</h3><ul>${unansweredQuestions.map(q => `<li>${q}</li>`).join("")}</ul>`;
                        unansweredContainer.style.display = "block"; // Hiển thị danh sách
                        return;
                    }
                    // Tính bandScore dựa trên correctCount
                    let bandScore = calculateBandScore(correctCount);
                    // Nếu tất cả các câu hỏi đã được trả lời
                    const unansweredContainer = document.getElementById("unanswered-questions");
                    unansweredContainer.innerHTML = `<h3>Unanswered Questions:</h3><p>None</p>`;
                    unansweredContainer.style.display = "block"; // Hiển thị thông báo "None"
					// Thay đổi nút Submit thành Done
                    const submitButton = document.querySelector(".btn-submit");
                    submitButton.innerText = "Done";
                    submitButton.disabled = true; // Vô hiệu hóa nút để tránh nộp lại
                    // Hiển thị kết quả
                    resultHTML += `</table>`;
                    //document.getElementById("results").innerHTML = `<h2>You got ${correctCount} correct answers!</h2>` + resultHTML;
                    console.log("Correct Count:", correctCount);
                    console.log("Answers:", answers);
                    
                    // Gửi dữ liệu đã sắp xếp lên Google Sheets
                    sendDataToGoogleSheet(name_user, className_user, answers, correctCount, bandScore);
                }
                // Hàm tính bandScore
                function calculateBandScore(correctCount) {
                    if (correctCount >= 39) return 9.0;
                    if (correctCount >= 37) return 8.5;
                    if (correctCount >= 35) return 8.0;
                    if (correctCount >= 33) return 7.5;
                    if (correctCount >= 30) return 7.0;
                    if (correctCount >= 27) return 6.5;
                    if (correctCount >= 23) return 6.0;
                    if (correctCount >= 20) return 5.5;
                    if (correctCount >= 16) return 5.0;
                    if (correctCount >= 13) return 4.5;
                    if (correctCount >= 10) return 4.0;
                    if (correctCount >= 7) return 3.5;
                    if (correctCount >= 5) return 3.0;
                    if (correctCount >= 3) return 2.5;
                    return 0.0;
                }
                let timer; // Biến lưu bộ đếm thời gian

                function startTimer(duration) {
                    const timerElement = document.getElementById("timer");
                    let timeRemaining = duration;

                    function updateTimer() {
                        const minutes = Math.floor(timeRemaining / 60);
                        const seconds = timeRemaining % 60;
                        timerElement.textContent = `Time Remaining: ${minutes}:${seconds < 10 ? "0" + seconds : seconds}`;

                        if (timeRemaining <= 0) {
                            clearInterval(timer); // Dừng bộ đếm thời gian
                            timerElement.textContent = "Time's up!";
                            autoSubmit(); // Tự động nộp bài khi hết thời gian
                        }

                        timeRemaining--;
                    }

                    updateTimer(); // Hiển thị thời gian ban đầu
                    timer = setInterval(updateTimer, 1000); // Cập nhật mỗi giây
                }

                function autoSubmit() {
                const allQuestions = document.querySelectorAll('.input-field, input[type="radio"], input[type="checkbox"]');
                allQuestions.forEach(question => {
                    const questionId = question.id || question.name;

                    if (question.type === "text" && !question.value.trim()) {
                        question.value = "NONE"; // Điền "NONE" cho câu hỏi dạng text chưa trả lời
                    } else if (question.type === "radio") {
                        const radios = document.getElementsByName(question.name);
                        const selectedRadio = Array.from(radios).find(radio => radio.checked);
                        if (!selectedRadio) {
                            // Tạo một radio ảo để lưu giá trị "NONE"
                            const noneRadio = document.createElement("input");
                            noneRadio.type = "radio";
                            noneRadio.name = question.name;
                            noneRadio.value = "NONE";
                            noneRadio.checked = true;
                            document.body.appendChild(noneRadio); // Thêm vào DOM tạm thời
                        }
                    } else if (question.type === "checkbox") {
                        const checkboxes = document.getElementsByName(question.name);
                        const selectedCheckboxes = Array.from(checkboxes).filter(checkbox => checkbox.checked);
                        if (selectedCheckboxes.length === 0) {
                            // Tạo một checkbox ảo để lưu giá trị "NONE"
                            const noneCheckbox = document.createElement("input");
                            noneCheckbox.type = "checkbox";
                            noneCheckbox.name = question.name;
                            noneCheckbox.value = "NONE";
                            noneCheckbox.checked = true;
                            document.body.appendChild(noneCheckbox); // Thêm vào DOM tạm thời
                        }
                    }
                });

                checkAnswers(); // Gọi hàm nộp bài
                }

                // Bắt đầu bộ đếm thời gian khi người dùng bắt đầu bài kiểm tra
                document.addEventListener("DOMContentLoaded", () => {
                const duration = 60 * 60; // 60 phút
                startTimer(duration);
                });
    
    </script>
</body>
</html>